{"ast":null,"code":"var _jsxFileName = \"/Users/sumanthvarma/Desktop/frontend/src/Components/Profile/index.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../Reducers/selectors';\nimport Button from 'react-bootstrap/Button';\nimport RecentSearches from './RecentSearches';\nimport MyListings from './MyListings';\nimport UserProfile from './UserProfile';\nimport { getListingByUserId } from '../../Requests/listings-requests';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        body: e.target.value\n      });\n    };\n\n    this.handleDeleteListing = async id => {\n      let listings = this.state.listings.filter(listing => {\n        return listing.listingId != id;\n      });\n      await this.setState({\n        listings: listings\n      });\n    };\n\n    this.state = {\n      searches: [],\n      body: '',\n      index: 0,\n      listings: [],\n      loadingListings: true,\n      user_id: ''\n    };\n  }\n\n  async componentDidMount() {\n    const user_id = this.props.user._id;\n    const searches = localStorage.getItem('recentSearches');\n\n    if (searches !== null) {\n      this.setState({\n        searches: JSON.parse(searches)\n      });\n    } //check if userid set in props, if not look in local storage\n\n\n    if (user_id === undefined) {\n      let user = localStorage.getItem('user');\n\n      if (user !== undefined) {\n        user_id = JSON.parse(user)._id;\n      } else return;\n    }\n\n    this.setState({\n      user_id: user_id\n    });\n    let res = await getListingByUserId(user_id);\n    console.log('userID', user_id, res);\n    this.setState({\n      listings: res,\n      loadingListings: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profilePageContainer\",\n      children: [/*#__PURE__*/_jsxDEV(UserProfile, {\n        user: this.props.user,\n        user_id: this.state.user_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileItemsContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tabsContainer\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"tabButton\",\n            style: {\n              fontWeight: this.state.index == 0 ? 'bold' : 'normal'\n            },\n            variant: this.state.index == 0 ? \"primary\" : \"secondary\",\n            onClick: () => this.setState({\n              index: 0\n            }),\n            children: \"Recent Searches\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"tabButton\",\n            style: {\n              fontWeight: this.state.index == 1 ? 'bold' : 'normal'\n            },\n            variant: this.state.index == 1 ? \"primary\" : \"secondary\",\n            onClick: () => this.setState({\n              index: 1\n            }),\n            children: \"My Listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 22\n        }, this), this.state.index == 0 && /*#__PURE__*/_jsxDEV(RecentSearches, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 51\n        }, this), this.state.index == 1 && /*#__PURE__*/_jsxDEV(MyListings, {\n          listings: this.state.listings,\n          loading: this.state.loadingListings,\n          handleDeleteListing: this.handleDeleteListing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = createSelector(selectors.addressSelector, selectors.userSelector, (address, user) => ({\n  address,\n  user\n}));\nexport default connect(mapStateToProps)(Profile);","map":{"version":3,"names":["React","connect","createSelector","selectors","Button","RecentSearches","MyListings","UserProfile","getListingByUserId","Profile","Component","constructor","props","handleChange","e","setState","body","target","value","handleDeleteListing","id","listings","state","filter","listing","listingId","searches","index","loadingListings","user_id","componentDidMount","user","_id","localStorage","getItem","JSON","parse","undefined","res","console","log","render","fontWeight","mapStateToProps","addressSelector","userSelector","address"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Components/Profile/index.js"],"sourcesContent":["import React  from 'react'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../Reducers/selectors'\nimport Button from 'react-bootstrap/Button'\nimport RecentSearches from './RecentSearches';\nimport MyListings from './MyListings'\nimport UserProfile from './UserProfile'\nimport { getListingByUserId } from '../../Requests/listings-requests'\n\nclass Profile extends React.Component {\n\n    constructor(props) {\n        super(props)\n       \n        this.state = {\n            searches: [],\n            body: '',\n            index : 0,\n            listings: [],\n            loadingListings : true,\n            user_id : ''\n        }\n    }\n\n    async componentDidMount() {\n        const user_id = this.props.user._id\n        const searches = localStorage.getItem('recentSearches')\n        if (searches !== null) {\n            this.setState({ searches : JSON.parse(searches)})\n        }\n \n        //check if userid set in props, if not look in local storage\n        if (user_id === undefined) {\n            let user = localStorage.getItem('user')\n\n            if (user !== undefined) {\n                user_id = JSON.parse(user)._id\n            }\n            else return;\n        }\n\n        this.setState({ user_id : user_id})\n        let res = await getListingByUserId(user_id)\n        console.log('userID', user_id, res)\n        this.setState({ listings : res, loadingListings : false })\n\n    }    \n\n    handleChange = e => {\n        this.setState({body: e.target.value})\n    }\n\n    handleDeleteListing = async (id) => {\n\n        let listings = this.state.listings.filter((listing) => {\n            return listing.listingId != id\n        })\n\n        await this.setState({ listings : listings })\n    }\n\n    render() {\n    \n        return (\n            <div className=\"profilePageContainer\">\n                 <UserProfile user={this.props.user} user_id={this.state.user_id}/>\n                 <div className=\"profileItemsContainer\">\n                     <div className=\"tabsContainer\">\n                        <Button className=\"tabButton\" style={{ fontWeight: (this.state.index == 0) ? 'bold' : 'normal'}} \n                        variant={(this.state.index == 0) ? \"primary\" : \"secondary\"} onClick={() => this.setState({ index : 0})}>Recent Searches</Button>\n\n                        <Button className=\"tabButton\" style={{ fontWeight: (this.state.index == 1) ? 'bold' : 'normal'}}\n                         variant={(this.state.index == 1) ? \"primary\" : \"secondary\"} onClick={() => this.setState({ index : 1})}>My Listings</Button>\n                     </div>\n                        {this.state.index == 0 && <RecentSearches/>}\n                        {this.state.index == 1 && <MyListings listings={this.state.listings} loading={this.state.loadingListings} handleDeleteListing={this.handleDeleteListing}/>}\n                 </div>\n            </div>\n       )\n    }\n }\n\n \n const mapStateToProps = createSelector(\n     selectors.addressSelector,\n     selectors.userSelector,\n    (address, user) => ({\n        address, user \n    })\n )\n\n\n export default connect(mapStateToProps)(Profile)"],"mappings":";AAAA,OAAOA,KAAP,MAAmB,OAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,OAAO,KAAKC,SAAZ,MAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,kBAAT,QAAmC,kCAAnC;;;AAEA,MAAMC,OAAN,SAAsBT,KAAK,CAACU,SAA5B,CAAsC;EAElCC,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;;IADe,KAqCnBC,YArCmB,GAqCJC,CAAC,IAAI;MAChB,KAAKC,QAAL,CAAc;QAACC,IAAI,EAAEF,CAAC,CAACG,MAAF,CAASC;MAAhB,CAAd;IACH,CAvCkB;;IAAA,KAyCnBC,mBAzCmB,GAyCG,MAAOC,EAAP,IAAc;MAEhC,IAAIC,QAAQ,GAAG,KAAKC,KAAL,CAAWD,QAAX,CAAoBE,MAApB,CAA4BC,OAAD,IAAa;QACnD,OAAOA,OAAO,CAACC,SAAR,IAAqBL,EAA5B;MACH,CAFc,CAAf;MAIA,MAAM,KAAKL,QAAL,CAAc;QAAEM,QAAQ,EAAGA;MAAb,CAAd,CAAN;IACH,CAhDkB;;IAGf,KAAKC,KAAL,GAAa;MACTI,QAAQ,EAAE,EADD;MAETV,IAAI,EAAE,EAFG;MAGTW,KAAK,EAAG,CAHC;MAITN,QAAQ,EAAE,EAJD;MAKTO,eAAe,EAAG,IALT;MAMTC,OAAO,EAAG;IAND,CAAb;EAQH;;EAEsB,MAAjBC,iBAAiB,GAAG;IACtB,MAAMD,OAAO,GAAG,KAAKjB,KAAL,CAAWmB,IAAX,CAAgBC,GAAhC;IACA,MAAMN,QAAQ,GAAGO,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAjB;;IACA,IAAIR,QAAQ,KAAK,IAAjB,EAAuB;MACnB,KAAKX,QAAL,CAAc;QAAEW,QAAQ,EAAGS,IAAI,CAACC,KAAL,CAAWV,QAAX;MAAb,CAAd;IACH,CALqB,CAOtB;;;IACA,IAAIG,OAAO,KAAKQ,SAAhB,EAA2B;MACvB,IAAIN,IAAI,GAAGE,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;MAEA,IAAIH,IAAI,KAAKM,SAAb,EAAwB;QACpBR,OAAO,GAAGM,IAAI,CAACC,KAAL,CAAWL,IAAX,EAAiBC,GAA3B;MACH,CAFD,MAGK;IACR;;IAED,KAAKjB,QAAL,CAAc;MAAEc,OAAO,EAAGA;IAAZ,CAAd;IACA,IAAIS,GAAG,GAAG,MAAM9B,kBAAkB,CAACqB,OAAD,CAAlC;IACAU,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBX,OAAtB,EAA+BS,GAA/B;IACA,KAAKvB,QAAL,CAAc;MAAEM,QAAQ,EAAGiB,GAAb;MAAkBV,eAAe,EAAG;IAApC,CAAd;EAEH;;EAeDa,MAAM,GAAG;IAEL,oBACI;MAAK,SAAS,EAAC,sBAAf;MAAA,wBACK,QAAC,WAAD;QAAa,IAAI,EAAE,KAAK7B,KAAL,CAAWmB,IAA9B;QAAoC,OAAO,EAAE,KAAKT,KAAL,CAAWO;MAAxD;QAAA;QAAA;QAAA;MAAA,QADL,eAEK;QAAK,SAAS,EAAC,uBAAf;QAAA,wBACI;UAAK,SAAS,EAAC,eAAf;UAAA,wBACG,QAAC,MAAD;YAAQ,SAAS,EAAC,WAAlB;YAA8B,KAAK,EAAE;cAAEa,UAAU,EAAG,KAAKpB,KAAL,CAAWK,KAAX,IAAoB,CAArB,GAA0B,MAA1B,GAAmC;YAAjD,CAArC;YACA,OAAO,EAAG,KAAKL,KAAL,CAAWK,KAAX,IAAoB,CAArB,GAA0B,SAA1B,GAAsC,WAD/C;YAC4D,OAAO,EAAE,MAAM,KAAKZ,QAAL,CAAc;cAAEY,KAAK,EAAG;YAAV,CAAd,CAD3E;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADH,eAIG,QAAC,MAAD;YAAQ,SAAS,EAAC,WAAlB;YAA8B,KAAK,EAAE;cAAEe,UAAU,EAAG,KAAKpB,KAAL,CAAWK,KAAX,IAAoB,CAArB,GAA0B,MAA1B,GAAmC;YAAjD,CAArC;YACC,OAAO,EAAG,KAAKL,KAAL,CAAWK,KAAX,IAAoB,CAArB,GAA0B,SAA1B,GAAsC,WADhD;YAC6D,OAAO,EAAE,MAAM,KAAKZ,QAAL,CAAc;cAAEY,KAAK,EAAG;YAAV,CAAd,CAD5E;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAJH;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,EAQQ,KAAKL,KAAL,CAAWK,KAAX,IAAoB,CAApB,iBAAyB,QAAC,cAAD;UAAA;UAAA;UAAA;QAAA,QARjC,EASQ,KAAKL,KAAL,CAAWK,KAAX,IAAoB,CAApB,iBAAyB,QAAC,UAAD;UAAY,QAAQ,EAAE,KAAKL,KAAL,CAAWD,QAAjC;UAA2C,OAAO,EAAE,KAAKC,KAAL,CAAWM,eAA/D;UAAgF,mBAAmB,EAAE,KAAKT;QAA1G;UAAA;UAAA;UAAA;QAAA,QATjC;MAAA;QAAA;QAAA;QAAA;MAAA,QAFL;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAgBH;;AAtEiC;;AA0ErC,MAAMwB,eAAe,GAAGzC,cAAc,CAClCC,SAAS,CAACyC,eADwB,EAElCzC,SAAS,CAAC0C,YAFwB,EAGnC,CAACC,OAAD,EAAUf,IAAV,MAAoB;EAChBe,OADgB;EACPf;AADO,CAApB,CAHmC,CAAtC;AASA,eAAe9B,OAAO,CAAC0C,eAAD,CAAP,CAAyBlC,OAAzB,CAAf"},"metadata":{},"sourceType":"module"}