{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{API}from'../Constants';export function downloadListingImage(_x){return _downloadListingImage.apply(this,arguments);}function _downloadListingImage(){_downloadListingImage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(uri){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={uri:uri};return _context.abrupt(\"return\",fetch(API+'listings/download',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.blob();}).catch(function(error){console.error('Download Image error:',error);}));case 2:case\"end\":return _context.stop();}}},_callee);}));return _downloadListingImage.apply(this,arguments);}export function createListing(_x2){return _createListing.apply(this,arguments);}function _createListing(){_createListing=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch(API+'listings/create',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).catch(function(error){console.error('Create listing error:',error);}));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _createListing.apply(this,arguments);}export function setListingPhotos(_x3){return _setListingPhotos.apply(this,arguments);}function _setListingPhotos(){_setListingPhotos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(formData){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",fetch(API+'listings/photos/add',{method:'POST',body:formData}).then(function(response){return response.json();}).catch(function(error){console.error('upload photos error:',error);}));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _setListingPhotos.apply(this,arguments);}export function getListingById(_x4){return _getListingById.apply(this,arguments);}function _getListingById(){_getListingById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(listingId){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt(\"return\",fetch(API+'listings/id/'+listingId,{method:'GET'}).then(function(response){return response.json();}).catch(function(error){console.error('Get Listing errror:',error);}));case 1:case\"end\":return _context4.stop();}}},_callee4);}));return _getListingById.apply(this,arguments);}export function getListingByPlaceId(_x5,_x6){return _getListingByPlaceId.apply(this,arguments);}function _getListingByPlaceId(){_getListingByPlaceId=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(place_id,includeDrafts){var body;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:body={\"place_id\":place_id,\"includeDrafts\":includeDrafts};return _context5.abrupt(\"return\",fetch(API+'listings/place_id',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(response){return response.json();}).catch(function(error){console.error('Get Listing errror:',error);}));case 2:case\"end\":return _context5.stop();}}},_callee5);}));return _getListingByPlaceId.apply(this,arguments);}export function getRecents(){return fetch(API+'listings/recent',{method:'GET'}).then(function(res){return res.json();}).catch(function(err){return console.log(\"Recent Listings error\",err);});}export function getListings(start,limit){var body={\"start\":start,\"limit\":limit};return fetch(API+'listings/get',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(res){return res.json();}).catch(function(err){return console.log(\"Get Listings error\",err);});}// search near by\nexport function getNearbyListings(zip,distance){var body={\"zip\":String(zip),\"distance\":Number(distance)};return fetch(API+'listings/nearby',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(res){return res.json();}).catch(function(err){return console.log(\"Get Nearby Listings error\",err);});}// get by user_id\nexport function getListingByUserId(user_id){var body={\"user_id\":String(user_id)};return fetch(API+'listings/user_id',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(res){return res.json();}).catch(function(err){return console.log(\"Get Listings by user_id error\",err);});}export function deleteListing(_x7){return _deleteListing.apply(this,arguments);}function _deleteListing(){_deleteListing=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(listingId){var body;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:body={\"listingId\":listingId};return _context6.abrupt(\"return\",fetch(API+'listings/delete',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(response){return response.json();}).catch(function(error){console.error('Create listing error:',error);}));case 2:case\"end\":return _context6.stop();}}},_callee6);}));return _deleteListing.apply(this,arguments);}export function updateListing(_x8){return _updateListing.apply(this,arguments);}function _updateListing(){_updateListing=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(data){return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:return _context7.abrupt(\"return\",fetch(API+'listings/update',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).catch(function(error){console.error('Update listing error:',error);}));case 1:case\"end\":return _context7.stop();}}},_callee7);}));return _updateListing.apply(this,arguments);}","map":{"version":3,"names":["API","downloadListingImage","uri","data","fetch","method","headers","body","JSON","stringify","then","response","blob","catch","error","console","createListing","json","setListingPhotos","formData","getListingById","listingId","getListingByPlaceId","place_id","includeDrafts","getRecents","res","err","log","getListings","start","limit","getNearbyListings","zip","distance","String","Number","getListingByUserId","user_id","deleteListing","updateListing"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Requests/listings-requests.js"],"sourcesContent":["import { API } from '../Constants'\n\nexport async function downloadListingImage(uri) {\n\n    const data = { uri : uri } \n    return fetch(API + 'listings/download',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(data)\n    })\n        .then(response => response.blob())\n        .catch(error => {\n            console.error('Download Image error:', error)\n        })\n}\n\nexport async function createListing(data) {\n\n    return fetch(API + 'listings/create',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(data)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Create listing error:', error)\n        })\n}\n\nexport async function setListingPhotos(formData) {\n    \n    return fetch(API + 'listings/photos/add',\n    {\n        method : 'POST',\n        body : formData\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('upload photos error:', error)\n        })\n}\n\nexport async function getListingById(listingId) {\n    \n    return fetch(API + 'listings/id/' + listingId,\n    {\n        method : 'GET',\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Get Listing errror:', error)\n        })\n}\n\nexport async function getListingByPlaceId(place_id, includeDrafts) {\n\n    let body = { \n        \"place_id\": place_id,\n        \"includeDrafts\": includeDrafts\n    }\n    \n    return fetch(API + 'listings/place_id',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Get Listing errror:', error)\n        })\n}\n\nexport function getRecents() {\n  \n    return fetch(API + 'listings/recent',\n        {\n            method : 'GET',\n        })\n        .then(res => res.json())\n        .catch(err => console.log(\"Recent Listings error\", err))\n}\n\nexport function getListings(start, limit) {\n    let body = {\n        \"start\" : start,\n        \"limit\" : limit\n    }\n\n    return fetch(API + 'listings/get', \n    {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n    .then(res => res.json())\n    .catch(err => console.log(\"Get Listings error\", err))\n}\n\n// search near by\nexport function getNearbyListings(zip, distance) {\n    let body = {\n        \"zip\" : String(zip),\n        \"distance\" : Number(distance)\n    }\n\n    return fetch(API + 'listings/nearby', \n    {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n    .then(res => res.json())\n    .catch(err => console.log(\"Get Nearby Listings error\", err))\n}\n\n// get by user_id\nexport function getListingByUserId(user_id) {\n    let body = {\n        \"user_id\" : String(user_id),\n    }\n\n    return fetch(API + 'listings/user_id', \n    {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n    .then(res => res.json())\n    .catch(err => console.log(\"Get Listings by user_id error\", err))\n}\n\nexport async function deleteListing(listingId) {\n\n    let body = {\n        \"listingId\" : listingId\n    }\n\n    return fetch(API + 'listings/delete',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Create listing error:', error)\n        })\n}\n\nexport async function updateListing(data) {\n\n    return fetch(API + 'listings/update',\n    {\n        method : 'PUT',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(data)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Update listing error:', error)\n        })\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}