{"ast":null,"code":"import _slicedToArray from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{connect}from'react-redux';import{createSelector}from'reselect';import*as selectors from'../../Reducers/selectors';import SubwayIcon from'../../images/subway.png';import Table from'react-bootstrap/Table';import ReactTableContainer from\"react-table-container\";import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{getComments,createComment}from'../../Requests/locations-requests';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var darkBg='rgb(26,28,41)';var lightBg='rgb(31,33,48)';var textPrimary='whitesmoke';var RecentSearches=/*#__PURE__*/function(_React$Component){_inherits(RecentSearches,_React$Component);var _super=_createSuper(RecentSearches);function RecentSearches(props){var _this;_classCallCheck(this,RecentSearches);_this=_super.call(this,props);_this.state={searches:[],body:''};return _this;}_createClass(RecentSearches,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _this2=this;var searches;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:searches=localStorage.getItem('recentSearches');if(searches!=null){this.setState({searches:JSON.parse(searches)});}else{setInterval(function(){var searches=localStorage.getItem('recentSearches');if(searches!=null){_this2.setState({searches:JSON.parse(searches)});}},300);}case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var header=/*#__PURE__*/_jsx(\"thead\",{});return/*#__PURE__*/_jsx(\"div\",{className:\"my-listings-container\",children:/*#__PURE__*/_jsx(ReactTableContainer,{height:\"100vh\",width:\"100%\",customHeader:[header],children:/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,variant:\"dark\",children:[header,/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(SearchesRows,{searches:this.state.searches})})]})})});}}]);return RecentSearches;}(React.Component);var SearchesRows=function SearchesRows(props){var getURL=function getURL(value){return'\"'+encodeURI(value.location.formatted)+'\"/none';};var searches=_toConsumableArray(props.searches).reverse();return searches.map(function(_ref,i){var _ref2=_slicedToArray(_ref,2),uid=_ref2[0],value=_ref2[1];return/*#__PURE__*/_jsxs(\"tr\",{style:{fontSize:14},children:[/*#__PURE__*/_jsx(\"td\",{style:{fontSize:14},children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{style:{color:'white'},to:getURL(value),children:value.location.formatted})})]},i);});};var mapStateToProps=createSelector(selectors.addressSelector,selectors.userSelector,function(address,user){return{address:address,user:user};});var getDateDisplay=function getDateDisplay(timestamp){var today=new Date();var date=new Date(timestamp);var months=[\"Jan\",\"Feb\",\"March\",\"April\",\"May\",\"June\",\"July\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];if(datesAreOnSameDay(today,date)){var split=date.toLocaleTimeString().split(' ');return split[0].substring(0,split[0].lastIndexOf(':'))+' '+split[1]+' '+months[date.getMonth()]+' '+date.getDate()+', '+date.getFullYear();}else{return months[date.getMonth()]+' '+date.getDate()+', '+date.getFullYear();}};var datesAreOnSameDay=function datesAreOnSameDay(first,second){return first.getFullYear()===second.getFullYear()&&first.getMonth()===second.getMonth()&&first.getDate()===second.getDate();};export default connect(mapStateToProps)(RecentSearches);","map":{"version":3,"names":["React","connect","createSelector","selectors","SubwayIcon","Table","ReactTableContainer","Form","Button","getComments","createComment","Link","darkBg","lightBg","textPrimary","RecentSearches","props","state","searches","body","localStorage","getItem","setState","JSON","parse","setInterval","header","Component","SearchesRows","getURL","value","encodeURI","location","formatted","reverse","map","i","uid","fontSize","color","mapStateToProps","addressSelector","userSelector","address","user","getDateDisplay","timestamp","today","Date","date","months","datesAreOnSameDay","split","toLocaleTimeString","substring","lastIndexOf","getMonth","getDate","getFullYear","first","second"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Components/Profile/RecentSearches.js"],"sourcesContent":["import React  from 'react'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../Reducers/selectors'\nimport SubwayIcon from '../../images/subway.png'\nimport Table from 'react-bootstrap/Table'\nimport ReactTableContainer from \"react-table-container\";\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport { getComments, createComment } from '../../Requests/locations-requests'\nimport { Link } from 'react-router-dom'\nconst darkBg = 'rgb(26,28,41)'\nconst lightBg = 'rgb(31,33,48)'\nconst textPrimary = 'whitesmoke'\n\nclass RecentSearches extends React.Component {\n\n    constructor(props) {\n        super(props)\n       \n        this.state = {\n            searches: [],\n            body: '',\n            \n        }\n    }\n\n    async componentDidMount() {\n        let searches = localStorage.getItem('recentSearches')\n        if (searches != null) {\n            this.setState({ searches : JSON.parse(searches)})\n        } else {\n            setInterval(() => {\n                let searches = localStorage.getItem('recentSearches')\n                if (searches != null) {\n                    this.setState({ searches : JSON.parse(searches)})\n                } \n            }, 300 )\n        }\n    }\n\n    render() {\n        let header =  <thead>\n         \n        </thead>\n        return (\n            <div  className=\"my-listings-container\">     \n                <ReactTableContainer height='100vh'  width='100%' customHeader={[header]}>\n                    <Table striped hover variant=\"dark\">\n                        {header}\n                        <tbody>\n                            <SearchesRows searches={this.state.searches}/>\n                        </tbody>\n                    </Table>\n                    \n                </ReactTableContainer>\n            </div>    \n       )\n    }\n }\n const SearchesRows = (props) => {\n\n    const getURL = (value) => {\n        return '\"'+encodeURI(value.location.formatted) + '\"/none'\n    }\n\n    let searches = [...props.searches].reverse()\n    return (\n       searches.map(([uid, value], i) => {\n            return (\n                <tr key={i} style={{ fontSize: 14}}>\n                    <td style={{ fontSize: 14}}>{(i+1)}</td>\n                    <td>\n                        <Link style={{ color: 'white'}}to={getURL(value)}>{value.location.formatted}</Link>\n                    </td>\n                </tr>\n            )\n        }) \n    )\n}\n\n \n const mapStateToProps = createSelector(\n     selectors.addressSelector,\n     selectors.userSelector,\n    (address, user) => ({\n        address, user \n    })\n )\n\n const getDateDisplay = (timestamp) => {\n    let today = new Date()\n    let date =  new Date(timestamp)\n    let months = [\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    if (datesAreOnSameDay(today, date)) {\n        let split = date.toLocaleTimeString().split(' ')\n        return split[0].substring(0, split[0].lastIndexOf(':')) + ' ' + split[1] \n            +' '+  months[date.getMonth()] +' '+ date.getDate() + ', '+ date.getFullYear()\n    } else {\n        return months[date.getMonth()] +' '+ date.getDate() + ', '+ date.getFullYear()\n    }\n }\n\n const datesAreOnSameDay = (first, second) =>\n    first.getFullYear() === second.getFullYear() &&\n    first.getMonth() === second.getMonth() &&\n    first.getDate() === second.getDate();\n\n export default connect(mapStateToProps)(RecentSearches)"],"mappings":"w9BAAA,MAAOA,MAAP,KAAmB,OAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,cAAT,KAA+B,UAA/B,CACA,MAAO,GAAKC,UAAZ,KAA2B,0BAA3B,CACA,MAAOC,WAAP,KAAuB,yBAAvB,CACA,MAAOC,MAAP,KAAkB,uBAAlB,CACA,MAAOC,oBAAP,KAAgC,uBAAhC,CACA,MAAOC,KAAP,KAAiB,sBAAjB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,OAASC,WAAT,CAAsBC,aAAtB,KAA2C,mCAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFACA,GAAMC,OAAM,CAAG,eAAf,CACA,GAAMC,QAAO,CAAG,eAAhB,CACA,GAAMC,YAAW,CAAG,YAApB,C,GAEMC,e,4HAEF,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,EADD,CAETC,IAAI,CAAE,EAFG,CAAb,CAHe,aAQlB,C,wJAED,kKACQD,QADR,CACmBE,YAAY,CAACC,OAAb,CAAqB,gBAArB,CADnB,CAEI,GAAIH,QAAQ,EAAI,IAAhB,CAAsB,CAClB,KAAKI,QAAL,CAAc,CAAEJ,QAAQ,CAAGK,IAAI,CAACC,KAAL,CAAWN,QAAX,CAAb,CAAd,EACH,CAFD,IAEO,CACHO,WAAW,CAAC,UAAM,CACd,GAAIP,SAAQ,CAAGE,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAf,CACA,GAAIH,QAAQ,EAAI,IAAhB,CAAsB,CAClB,MAAI,CAACI,QAAL,CAAc,CAAEJ,QAAQ,CAAGK,IAAI,CAACC,KAAL,CAAWN,QAAX,CAAb,CAAd,EACH,CACJ,CALU,CAKR,GALQ,CAAX,CAMH,CAXL,2D,mIAcA,iBAAS,CACL,GAAIQ,OAAM,cAAI,gBAAd,CAGA,mBACI,YAAM,SAAS,CAAC,uBAAhB,uBACI,KAAC,mBAAD,EAAqB,MAAM,CAAC,OAA5B,CAAqC,KAAK,CAAC,MAA3C,CAAkD,YAAY,CAAE,CAACA,MAAD,CAAhE,uBACI,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,KAAK,KAApB,CAAqB,OAAO,CAAC,MAA7B,WACKA,MADL,cAEI,oCACI,KAAC,YAAD,EAAc,QAAQ,CAAE,KAAKT,KAAL,CAAWC,QAAnC,EADJ,EAFJ,GADJ,EADJ,EADJ,CAaH,C,4BA3CwBlB,KAAK,CAAC2B,S,EA6ClC,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACZ,KAAD,CAAW,CAE7B,GAAMa,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAW,CACtB,MAAO,IAAIC,SAAS,CAACD,KAAK,CAACE,QAAN,CAAeC,SAAhB,CAAb,CAA0C,QAAjD,CACH,CAFD,CAIA,GAAIf,SAAQ,CAAG,mBAAIF,KAAK,CAACE,QAAV,EAAoBgB,OAApB,EAAf,CACA,MACGhB,SAAQ,CAACiB,GAAT,CAAa,cAAeC,CAAf,CAAqB,kCAAnBC,GAAmB,UAAdP,KAAc,UAC7B,mBACI,YAAY,KAAK,CAAE,CAAEQ,QAAQ,CAAE,EAAZ,CAAnB,wBACI,WAAI,KAAK,CAAE,CAAEA,QAAQ,CAAE,EAAZ,CAAX,UAA8BF,CAAC,CAAC,CAAhC,EADJ,cAEI,iCACI,KAAC,IAAD,EAAM,KAAK,CAAE,CAAEG,KAAK,CAAE,OAAT,CAAb,CAA+B,EAAE,CAAEV,MAAM,CAACC,KAAD,CAAzC,UAAmDA,KAAK,CAACE,QAAN,CAAeC,SAAlE,EADJ,EAFJ,GAASG,CAAT,CADJ,CAQH,CATF,CADH,CAYH,CAnBA,CAsBA,GAAMI,gBAAe,CAAGtC,cAAc,CAClCC,SAAS,CAACsC,eADwB,CAElCtC,SAAS,CAACuC,YAFwB,CAGnC,SAACC,OAAD,CAAUC,IAAV,QAAoB,CAChBD,OAAO,CAAPA,OADgB,CACPC,IAAI,CAAJA,IADO,CAApB,EAHmC,CAAtC,CAQA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAACC,SAAD,CAAe,CACnC,GAAIC,MAAK,CAAG,GAAIC,KAAJ,EAAZ,CACA,GAAIC,KAAI,CAAI,GAAID,KAAJ,CAASF,SAAT,CAAZ,CACA,GAAII,OAAM,CAAG,CAAC,KAAD,CAAQ,KAAR,CAAe,OAAf,CAAwB,OAAxB,CAAiC,KAAjC,CAAwC,MAAxC,CAAgD,MAAhD,CAAwD,KAAxD,CAA+D,KAA/D,CAAsE,KAAtE,CAA6E,KAA7E,CAAoF,KAApF,CAAb,CAEA,GAAIC,iBAAiB,CAACJ,KAAD,CAAQE,IAAR,CAArB,CAAoC,CAChC,GAAIG,MAAK,CAAGH,IAAI,CAACI,kBAAL,GAA0BD,KAA1B,CAAgC,GAAhC,CAAZ,CACA,MAAOA,MAAK,CAAC,CAAD,CAAL,CAASE,SAAT,CAAmB,CAAnB,CAAsBF,KAAK,CAAC,CAAD,CAAL,CAASG,WAAT,CAAqB,GAArB,CAAtB,EAAmD,GAAnD,CAAyDH,KAAK,CAAC,CAAD,CAA9D,CACF,GADE,CACIF,MAAM,CAACD,IAAI,CAACO,QAAL,EAAD,CADV,CAC6B,GAD7B,CACkCP,IAAI,CAACQ,OAAL,EADlC,CACmD,IADnD,CACyDR,IAAI,CAACS,WAAL,EADhE,CAEH,CAJD,IAIO,CACH,MAAOR,OAAM,CAACD,IAAI,CAACO,QAAL,EAAD,CAAN,CAAyB,GAAzB,CAA8BP,IAAI,CAACQ,OAAL,EAA9B,CAA+C,IAA/C,CAAqDR,IAAI,CAACS,WAAL,EAA5D,CACH,CACH,CAZD,CAcA,GAAMP,kBAAiB,CAAG,QAApBA,kBAAoB,CAACQ,KAAD,CAAQC,MAAR,QACvBD,MAAK,CAACD,WAAN,KAAwBE,MAAM,CAACF,WAAP,EAAxB,EACAC,KAAK,CAACH,QAAN,KAAqBI,MAAM,CAACJ,QAAP,EADrB,EAEAG,KAAK,CAACF,OAAN,KAAoBG,MAAM,CAACH,OAAP,EAHG,EAA1B,CAKA,cAAexD,QAAO,CAACuC,eAAD,CAAP,CAAyBzB,cAAzB,CAAf"},"metadata":{},"sourceType":"module"}