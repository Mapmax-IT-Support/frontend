{"ast":null,"code":"var _jsxFileName = \"/Users/sumanthvarma/Desktop/frontend/src/Components/Listings/ListingPreviews/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../../Reducers/selectors';\nimport '../../../css/listingView.scss';\nimport { Link, withRouter } from 'react-router-dom';\nimport { getRecents } from '../../../Requests/listings-requests';\nimport MultiSlideshow from \"./MultipleSlideShow\";\nimport { useMediaQuery } from 'react-responsive';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst S3_BASE = \"https://landmarkbucket2.s3.amazonaws.com/\";\nconst darkBg = 'rgb(26,28,41)';\nconst lightBg = 'rgb(31,33,48)';\nconst textPrimary = 'whitesmoke';\n\nfunction ListingsBrowse() {\n  _s();\n\n  const [listings, setListings] = useState([]);\n  const isMobile = useMediaQuery({\n    query: '(max-width:551px)'\n  });\n  const setSize = isMobile ? 1 : 3;\n  useEffect(() => {\n    const init = async () => {\n      let data = await getRecents();\n      let triplets = [[]];\n      let tripletIndex = 0;\n      if (data === undefined) return; //set at 9 most recent\n\n      let i = 0;\n\n      while (i < 9 && i < data.length) {\n        if (triplets[tripletIndex].length === setSize) {\n          tripletIndex += 1;\n          triplets.push([]);\n        }\n\n        triplets[tripletIndex].push(data[i]);\n        i += 1;\n      }\n\n      setListings(triplets);\n    };\n\n    init();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '80%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"previewHeader\",\n      style: {\n        width: '100%',\n        backgroundColor: lightBg,\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: 'white',\n          textAlign: 'left',\n          paddingTop: '0.5em',\n          paddingLeft: '0.5em'\n        },\n        children: \"Recent Listings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"listings/browse\",\n        style: {\n          textDecorationLine: 'underline',\n          color: 'white'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: 'white',\n            textAlign: 'left',\n            paddingTop: '0.5em',\n            paddingRight: '0.5em'\n          },\n          children: \"See more...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 107\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(MultiSlideshow, {\n      width: '100%',\n      height: '400px',\n      data: listings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 13\n  }, this);\n}\n\n_s(ListingsBrowse, \"SkR2Ku6OvC0AIRkWXgFUGHdCvkM=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c = ListingsBrowse;\nconst mapStateToProps = createSelector(selectors.addressSelector, selectors.userSelector, (address, user) => ({\n  address,\n  user\n}));\n\nconst capitalizeFirst = value => {\n  return value.substring(0, 1).toUpperCase() + value.substring(1, value.length);\n};\n\nconst formatKeys = value => {\n  let formatted = \"\";\n\n  for (let i = 0; i < value.length; i++) {\n    let char = value.substring(i, i + 1);\n\n    if (i == 0) {\n      formatted += char.toUpperCase();\n      continue;\n    }\n\n    if (char == char.toUpperCase()) {\n      formatted += \" \" + char;\n      continue;\n    }\n\n    formatted += char;\n  }\n\n  return formatted;\n};\n\nexport default withRouter(connect(mapStateToProps)(ListingsBrowse));\n/**\n * \n       const getUrl = () => {\n           let address = encodeURI(JSON.stringify(this.state.listingData.location.formatted))\n           let business_type = \"restaurant\"\n           let url = '/' + address + '/' + business_type\n           return url\n       }\n */\n\nvar _c;\n\n$RefreshReg$(_c, \"ListingsBrowse\");","map":{"version":3,"names":["React","useState","useEffect","connect","createSelector","selectors","Link","withRouter","getRecents","MultiSlideshow","useMediaQuery","S3_BASE","darkBg","lightBg","textPrimary","ListingsBrowse","listings","setListings","isMobile","query","setSize","init","data","triplets","tripletIndex","undefined","i","length","push","width","height","display","flexDirection","alignItems","backgroundColor","justifyContent","color","textAlign","paddingTop","paddingLeft","textDecorationLine","paddingRight","mapStateToProps","addressSelector","userSelector","address","user","capitalizeFirst","value","substring","toUpperCase","formatKeys","formatted","char"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Components/Listings/ListingPreviews/index.js"],"sourcesContent":["import React, { useState, useEffect}  from 'react'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../../Reducers/selectors'\nimport '../../../css/listingView.scss';\nimport { Link, withRouter } from 'react-router-dom'\nimport { getRecents } from '../../../Requests/listings-requests'\nimport MultiSlideshow from \"./MultipleSlideShow\"\nimport { useMediaQuery } from 'react-responsive'\n\nconst S3_BASE = \"https://landmarkbucket2.s3.amazonaws.com/\"\nconst darkBg = 'rgb(26,28,41)'\nconst lightBg = 'rgb(31,33,48)'\nconst textPrimary = 'whitesmoke'\n\nfunction ListingsBrowse() {\n\n    const [listings, setListings] = useState([])\n    const isMobile = useMediaQuery({\n        query: '(max-width:551px)'\n    })\n    const setSize = (isMobile) ? 1 : 3\n\n    useEffect(() => {\n        const init = async () => {\n            let data = await getRecents()\n            let triplets = [[]]\n            let tripletIndex = 0\n    \n            if (data === undefined) return;\n \n            //set at 9 most recent\n            let i=0;\n            while ( i < 9 && i < data.length) {\n                if (triplets[tripletIndex].length === setSize) {\n                    tripletIndex += 1\n                    triplets.push([])\n                }\n    \n                triplets[tripletIndex].push(data[i]) \n                i += 1;\n            }\n   \n            setListings(triplets)\n        }\n        \n        init()\n    }, [])\n\n\n    return (\n            <div style={{  width: '100%', height: '80%',  display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n                <div id=\"previewHeader\" style={{ width: '100%', backgroundColor: lightBg, display: 'flex', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center'}}>\n                    <h3  style={{ color: 'white', textAlign: 'left', paddingTop: '0.5em', paddingLeft: '0.5em'}}>Recent Listings</h3>\n                    <Link to=\"listings/browse\" style={{textDecorationLine: 'underline', color: 'white'}}> <h3  style={{ color: 'white', textAlign: 'left', paddingTop: '0.5em', paddingRight: '0.5em'}}>See more...</h3></Link>\n                </div>\n                <MultiSlideshow width={'100%'} height={'400px'} data={listings}/>  \n            </div>\n       )\n    }\n\n \n const mapStateToProps = createSelector(\n     selectors.addressSelector,\n     selectors.userSelector,\n    (address, user) => ({\n        address, user \n    })\n )\n\n const capitalizeFirst = value => {\n    return value.substring(0,1).toUpperCase() + value.substring(1, value.length)\n }\n\n const formatKeys = value => {\n    let formatted = \"\"\n    for (let i=0; i < value.length; i++) {\n        let char = value.substring(i, i+1)\n        if (i == 0) {\n            formatted += char.toUpperCase()\n            continue;\n        }\n        \n        if (char == char.toUpperCase()) {\n            formatted += \" \" + char\n            continue;\n        }\n\n        formatted += char;\n    }\n    return formatted;\n }\n\n\n export default withRouter(connect(mapStateToProps)(ListingsBrowse))\n\n\n\n /**\n  * \n        const getUrl = () => {\n            let address = encodeURI(JSON.stringify(this.state.listingData.location.formatted))\n            let business_type = \"restaurant\"\n            let url = '/' + address + '/' + business_type\n            return url\n        }\n  */\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}