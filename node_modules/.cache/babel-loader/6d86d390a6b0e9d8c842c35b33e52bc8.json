{"ast":null,"code":"var _jsxFileName = \"/Users/sumanthvarma/Desktop/frontend/src/Components/Profile/RecentSearches.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../Reducers/selectors';\nimport SubwayIcon from '../../images/subway.png';\nimport Table from 'react-bootstrap/Table';\nimport ReactTableContainer from \"react-table-container\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { getComments, createComment } from '../../Requests/locations-requests';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst darkBg = 'rgb(26,28,41)';\nconst lightBg = 'rgb(31,33,48)';\nconst textPrimary = 'whitesmoke';\n\nclass RecentSearches extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searches: [],\n      body: ''\n    };\n  }\n\n  async componentDidMount() {\n    let searches = localStorage.getItem('recentSearches');\n\n    if (searches != null) {\n      this.setState({\n        searches: JSON.parse(searches)\n      });\n    } else {\n      setInterval(() => {\n        let searches = localStorage.getItem('recentSearches');\n\n        if (searches != null) {\n          this.setState({\n            searches: JSON.parse(searches)\n          });\n        }\n      }, 300);\n    }\n  }\n\n  render() {\n    let header = /*#__PURE__*/_jsxDEV(\"thead\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-listings-container\",\n      children: /*#__PURE__*/_jsxDEV(ReactTableContainer, {\n        height: \"100vh\",\n        width: \"100%\",\n        customHeader: [header],\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          hover: true,\n          variant: \"dark\",\n          children: [header, /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(SearchesRows, {\n              searches: this.state.searches\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst SearchesRows = props => {\n  const getURL = value => {\n    return '\"' + encodeURI(value.location.formatted) + '\"/none';\n  };\n\n  let searches = [...props.searches].reverse();\n  return searches.map((_ref, i) => {\n    let [uid, value] = _ref;\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      style: {\n        fontSize: 14\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        style: {\n          fontSize: 14\n        },\n        children: i + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            color: 'white'\n          },\n          to: getURL(value),\n          children: value.location.formatted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this);\n  });\n};\n\n_c = SearchesRows;\nconst mapStateToProps = createSelector(selectors.addressSelector, selectors.userSelector, (address, user) => ({\n  address,\n  user\n}));\n\nconst getDateDisplay = timestamp => {\n  let today = new Date();\n  let date = new Date(timestamp);\n  let months = [\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n  if (datesAreOnSameDay(today, date)) {\n    let split = date.toLocaleTimeString().split(' ');\n    return split[0].substring(0, split[0].lastIndexOf(':')) + ' ' + split[1] + ' ' + months[date.getMonth()] + ' ' + date.getDate() + ', ' + date.getFullYear();\n  } else {\n    return months[date.getMonth()] + ' ' + date.getDate() + ', ' + date.getFullYear();\n  }\n};\n\nconst datesAreOnSameDay = (first, second) => first.getFullYear() === second.getFullYear() && first.getMonth() === second.getMonth() && first.getDate() === second.getDate();\n\nexport default connect(mapStateToProps)(RecentSearches);\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchesRows\");","map":{"version":3,"names":["React","connect","createSelector","selectors","SubwayIcon","Table","ReactTableContainer","Form","Button","getComments","createComment","Link","darkBg","lightBg","textPrimary","RecentSearches","Component","constructor","props","state","searches","body","componentDidMount","localStorage","getItem","setState","JSON","parse","setInterval","render","header","SearchesRows","getURL","value","encodeURI","location","formatted","reverse","map","i","uid","fontSize","color","mapStateToProps","addressSelector","userSelector","address","user","getDateDisplay","timestamp","today","Date","date","months","datesAreOnSameDay","split","toLocaleTimeString","substring","lastIndexOf","getMonth","getDate","getFullYear","first","second"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Components/Profile/RecentSearches.js"],"sourcesContent":["import React  from 'react'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../Reducers/selectors'\nimport SubwayIcon from '../../images/subway.png'\nimport Table from 'react-bootstrap/Table'\nimport ReactTableContainer from \"react-table-container\";\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport { getComments, createComment } from '../../Requests/locations-requests'\nimport { Link } from 'react-router-dom'\nconst darkBg = 'rgb(26,28,41)'\nconst lightBg = 'rgb(31,33,48)'\nconst textPrimary = 'whitesmoke'\n\nclass RecentSearches extends React.Component {\n\n    constructor(props) {\n        super(props)\n       \n        this.state = {\n            searches: [],\n            body: '',\n            \n        }\n    }\n\n    async componentDidMount() {\n        let searches = localStorage.getItem('recentSearches')\n        if (searches != null) {\n            this.setState({ searches : JSON.parse(searches)})\n        } else {\n            setInterval(() => {\n                let searches = localStorage.getItem('recentSearches')\n                if (searches != null) {\n                    this.setState({ searches : JSON.parse(searches)})\n                } \n            }, 300 )\n        }\n    }\n\n    render() {\n        let header =  <thead>\n         \n        </thead>\n        return (\n            <div  className=\"my-listings-container\">     \n                <ReactTableContainer height='100vh'  width='100%' customHeader={[header]}>\n                    <Table striped hover variant=\"dark\">\n                        {header}\n                        <tbody>\n                            <SearchesRows searches={this.state.searches}/>\n                        </tbody>\n                    </Table>\n                    \n                </ReactTableContainer>\n            </div>    \n       )\n    }\n }\n const SearchesRows = (props) => {\n\n    const getURL = (value) => {\n        return '\"'+encodeURI(value.location.formatted) + '\"/none'\n    }\n\n    let searches = [...props.searches].reverse()\n    return (\n       searches.map(([uid, value], i) => {\n            return (\n                <tr key={i} style={{ fontSize: 14}}>\n                    <td style={{ fontSize: 14}}>{(i+1)}</td>\n                    <td>\n                        <Link style={{ color: 'white'}}to={getURL(value)}>{value.location.formatted}</Link>\n                    </td>\n                </tr>\n            )\n        }) \n    )\n}\n\n \n const mapStateToProps = createSelector(\n     selectors.addressSelector,\n     selectors.userSelector,\n    (address, user) => ({\n        address, user \n    })\n )\n\n const getDateDisplay = (timestamp) => {\n    let today = new Date()\n    let date =  new Date(timestamp)\n    let months = [\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    if (datesAreOnSameDay(today, date)) {\n        let split = date.toLocaleTimeString().split(' ')\n        return split[0].substring(0, split[0].lastIndexOf(':')) + ' ' + split[1] \n            +' '+  months[date.getMonth()] +' '+ date.getDate() + ', '+ date.getFullYear()\n    } else {\n        return months[date.getMonth()] +' '+ date.getDate() + ', '+ date.getFullYear()\n    }\n }\n\n const datesAreOnSameDay = (first, second) =>\n    first.getFullYear() === second.getFullYear() &&\n    first.getMonth() === second.getMonth() &&\n    first.getDate() === second.getDate();\n\n export default connect(mapStateToProps)(RecentSearches)"],"mappings":"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"},"metadata":{},"sourceType":"module"}