{"ast":null,"code":"import { API } from '../Constants';\nexport async function downloadListingImage(uri) {\n  const data = {\n    uri: uri\n  };\n  return fetch(API + 'listings/download', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => response.blob()).catch(error => {\n    console.error('Download Image error:', error);\n  });\n}\nexport async function createListing(data) {\n  return fetch(API + 'listings/create', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => response.json()).catch(error => {\n    console.error('Create listing error:', error);\n  });\n}\nexport async function setListingPhotos(formData) {\n  return fetch(API + 'listings/photos/add', {\n    method: 'POST',\n    body: formData\n  }).then(response => response.json()).catch(error => {\n    console.error('upload photos error:', error);\n  });\n}\nexport async function getListingById(listingId) {\n  return fetch(API + 'listings/id/' + listingId, {\n    method: 'GET'\n  }).then(response => response.json()).catch(error => {\n    console.error('Get Listing errror:', error);\n  });\n}\nexport async function getListingByPlaceId(place_id, includeDrafts) {\n  let body = {\n    \"place_id\": place_id,\n    \"includeDrafts\": includeDrafts\n  };\n  return fetch(API + 'listings/place_id', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(response => response.json()).catch(error => {\n    console.error('Get Listing errror:', error);\n  });\n}\nexport function getRecents() {\n  return fetch(API + 'listings/recent', {\n    method: 'GET'\n  }).then(res => res.json()).catch(err => console.log(\"Recent Listings error\", err));\n}\nexport function getListings(start, limit) {\n  let body = {\n    \"start\": start,\n    \"limit\": limit\n  };\n  return fetch(API + 'listings/get', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(res => res.json()).catch(err => console.log(\"Get Listings error\", err));\n} // search near by\n\nexport function getNearbyListings(zip, distance) {\n  let body = {\n    \"zip\": String(zip),\n    \"distance\": Number(distance)\n  };\n  return fetch(API + 'listings/nearby', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(res => res.json()).catch(err => console.log(\"Get Nearby Listings error\", err));\n} // get by user_id\n\nexport function getListingByUserId(user_id) {\n  let body = {\n    \"user_id\": String(user_id)\n  };\n  return fetch(API + 'listings/user_id', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(res => res.json()).catch(err => console.log(\"Get Listings by user_id error\", err));\n}\nexport async function deleteListing(listingId) {\n  let body = {\n    \"listingId\": listingId\n  };\n  return fetch(API + 'listings/delete', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(response => response.json()).catch(error => {\n    console.error('Create listing error:', error);\n  });\n}\nexport async function updateListing(data) {\n  return fetch(API + 'listings/update', {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => response.json()).catch(error => {\n    console.error('Update listing error:', error);\n  });\n}","map":{"version":3,"names":["API","downloadListingImage","uri","data","fetch","method","headers","body","JSON","stringify","then","response","blob","catch","error","console","createListing","json","setListingPhotos","formData","getListingById","listingId","getListingByPlaceId","place_id","includeDrafts","getRecents","res","err","log","getListings","start","limit","getNearbyListings","zip","distance","String","Number","getListingByUserId","user_id","deleteListing","updateListing"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Requests/listings-requests.js"],"sourcesContent":["import { API } from '../Constants'\n\nexport async function downloadListingImage(uri) {\n\n    const data = { uri : uri } \n    return fetch(API + 'listings/download',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(data)\n    })\n        .then(response => response.blob())\n        .catch(error => {\n            console.error('Download Image error:', error)\n        })\n}\n\nexport async function createListing(data) {\n\n    return fetch(API + 'listings/create',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(data)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Create listing error:', error)\n        })\n}\n\nexport async function setListingPhotos(formData) {\n    \n    return fetch(API + 'listings/photos/add',\n    {\n        method : 'POST',\n        body : formData\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('upload photos error:', error)\n        })\n}\n\nexport async function getListingById(listingId) {\n    \n    return fetch(API + 'listings/id/' + listingId,\n    {\n        method : 'GET',\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Get Listing errror:', error)\n        })\n}\n\nexport async function getListingByPlaceId(place_id, includeDrafts) {\n\n    let body = { \n        \"place_id\": place_id,\n        \"includeDrafts\": includeDrafts\n    }\n    \n    return fetch(API + 'listings/place_id',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Get Listing errror:', error)\n        })\n}\n\nexport function getRecents() {\n  \n    return fetch(API + 'listings/recent',\n        {\n            method : 'GET',\n        })\n        .then(res => res.json())\n        .catch(err => console.log(\"Recent Listings error\", err))\n}\n\nexport function getListings(start, limit) {\n    let body = {\n        \"start\" : start,\n        \"limit\" : limit\n    }\n\n    return fetch(API + 'listings/get', \n    {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n    .then(res => res.json())\n    .catch(err => console.log(\"Get Listings error\", err))\n}\n\n// search near by\nexport function getNearbyListings(zip, distance) {\n    let body = {\n        \"zip\" : String(zip),\n        \"distance\" : Number(distance)\n    }\n\n    return fetch(API + 'listings/nearby', \n    {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n    .then(res => res.json())\n    .catch(err => console.log(\"Get Nearby Listings error\", err))\n}\n\n// get by user_id\nexport function getListingByUserId(user_id) {\n    let body = {\n        \"user_id\" : String(user_id),\n    }\n\n    return fetch(API + 'listings/user_id', \n    {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n    .then(res => res.json())\n    .catch(err => console.log(\"Get Listings by user_id error\", err))\n}\n\nexport async function deleteListing(listingId) {\n\n    let body = {\n        \"listingId\" : listingId\n    }\n\n    return fetch(API + 'listings/delete',\n    {\n        method : 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(body)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Create listing error:', error)\n        })\n}\n\nexport async function updateListing(data) {\n\n    return fetch(API + 'listings/update',\n    {\n        method : 'PUT',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body : JSON.stringify(data)\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Update listing error:', error)\n        })\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}