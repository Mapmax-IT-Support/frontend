{"ast":null,"code":"var _jsxFileName = \"/Users/sumanthvarma/Desktop/frontend/src/Components/Map/Panels/DemographicsPanel.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Table from 'react-bootstrap/Table';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Form from 'react-bootstrap/Form';\nimport { updateBusinessType } from '../../../Actions/business-actions';\nimport { BUSINESS_TYPES } from '../../../Constants';\nimport Card from 'react-bootstrap/Card';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { updateDataRange } from '../../../Actions/dataRange-actions';\nimport { updateStatsZip, updateStatsTradezone } from '../../../Actions/stats-actions';\nimport { isCitySelector, tractSelector, addressSelector, dataRangeSelector, tradeZoneBoundsSelector, statsSelector, geoUnitSelector, businessTypeSelector } from '../../../Reducers/selectors';\nimport Button from 'react-bootstrap/Button';\nimport { createTradeZoneStats } from '../../../Requests/locations-requests';\nimport { updateTradeZoneBounds } from '../../../Actions/tradeZoneBoundaries-actions';\nimport { AiOutlineInfoCircle } from 'react-icons/ai';\nimport { getZipData, getTradezoneData } from '../../../Requests/tradezones-requests';\nimport Modal from 'react-bootstrap/Modal';\nimport { determineRadius } from '../../utils/distance';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ZIP = 'zip code tabulation area';\nexport const TRADE_ZONE = 'tradeZone';\nconst darkBg = 'rgb(26,28,41)';\nconst lightBg = 'rgb(31,33,48)';\nconst textPrimary = 'whitesmoke';\n\nclass DemographicsPanel extends React.Component {\n  constructor(props) {\n    super(props); // reconcile state display and backend business type encoding\n\n    this.onUpdateDataRange = event => {\n      let val = event.target.value;\n\n      if (val === 'zip') {\n        this.props.onUpdateDataRange(ZIP);\n        this.setState({\n          zipVariant: 'light',\n          tzVariant: 'dark'\n        });\n      } else if (val == 'tradeZone') {\n        this.props.onUpdateDataRange(TRADE_ZONE);\n        this.setState({\n          zipVariant: 'dark',\n          tzVariant: 'light'\n        });\n      }\n    };\n\n    this.onUpdateStatsZip = stats => {\n      updateStatsZip(stats);\n    };\n\n    this.onUpdateStatsTZ = stats => {\n      updateStatsTradezone(stats);\n    };\n\n    this.getZip = async () => {\n      const {\n        address\n      } = this.props;\n      const {\n        state,\n        zip\n      } = address;\n      const res = await getZipData(state, zip);\n\n      if (res.length >= 1) {\n        this.setState({\n          zipStats: res[0].stats,\n          accordianKeys: { ...this.state.accordianKeys,\n            zip: ['0', '1', '2', '3']\n          }\n        });\n        this.props.onUpdateStatsZip(res[0]);\n      } else {\n        this.setState({\n          zipHeader: 'Zip Unavailable',\n          zipDisabled: true\n        });\n        this.props.onUpdateDataRange(TRADE_ZONE);\n        this.setState({\n          zipVariant: 'dark',\n          tzVariant: 'light'\n        });\n      }\n    };\n\n    this.loadNewTradeZoneStats = async () => {\n      const {\n        address,\n        stats\n      } = this.props;\n      const params = determineRadius(address.zip);\n      const {\n        radius,\n        isnyc\n      } = params;\n      this.setState({\n        isnyc\n      });\n      const res = await getTradezoneData(address.state, address.zip, address.coords.lat, address.coords.lng, radius, isnyc);\n\n      if (res.stats) {\n        // set internal state\n        this.setState({\n          tradeZoneStats: res.stats,\n          statsLoaded: true,\n          hasValidTradeZone: false,\n          // wtf is this named that???\n          accordianKeys: { ...this.state.accordianKeys,\n            tradeZone: ['0', '1', '2', '3']\n          }\n        });\n        this.props.onUpdateStatsTZ(res);\n      }\n    };\n\n    this.checkForTradeZone = () => {\n      return new Promise(resolve => {\n        if (this.state.tradeZoneStats == null) {\n          let loop = setInterval(() => {\n            if (this.state.tradeZoneStats != null) {\n              clearInterval(loop);\n              resolve();\n            }\n          }, 100);\n        } else resolve();\n      });\n    };\n\n    this.onUpdateTradeZoneBounds = tradeZone_bounds => {\n      this.props.onUpdateTradeZoneBounds(tradeZone_bounds);\n    };\n\n    this.setModalShow = flag => {\n      this.setState({\n        showModal: flag\n      });\n    };\n\n    this.onBusinessFormChange = event => {\n      let type = event.target.value;\n      this.setState({\n        business_type: type\n      }); // for props\n\n      if (type == 'hotels /lodging') type = 'lodging';\n      let business = {\n        type: type.replace(/ /g, '_'),\n        priceLevel: 0\n      };\n      this.onUpdateBusinessType(business);\n    };\n\n    this.hasValidTradeZone = () => {\n      const {\n        address\n      } = this.props;\n      const isValid = address.state !== 'NJ' && address.state !== 'NY';\n      this.setState({\n        hasValidTradeZone: isValid\n      });\n      return isValid;\n    };\n\n    let business_type = this.props.business_type.type;\n    if (business_type == 'lodging') business_type = 'hotels /lodging';\n    this.state = {\n      statsLoaded: false,\n      zipVariant: 'light',\n      tzVariant: 'dark',\n      zipDisabled: false,\n      zipHeader: \"Zip - \" + this.props.address.zip,\n      accordianKeys: {\n        zip: ['0', '0', '0', '0'],\n        tradeZone: ['0', '0', '0', '0']\n      },\n      showModal: false,\n      business_type: business_type.replace(/_/g, ' '),\n      hasValidTradeZone: false\n    };\n  }\n\n  async componentDidMount() {\n    this.getZip();\n    this.loadNewTradeZoneStats();\n  }\n\n  onUpdateBusinessType(business_type) {\n    this.props.onUpdateBusinessType(business_type);\n  }\n\n  render() {\n    const {\n      hasValidTradeZone\n    } = this.state;\n    var social_data = {\n      summary: {\n        gender: {}\n      },\n      race: {},\n      nativity: {},\n      education: {},\n      marital_status: {},\n      employment: {},\n      transportation: {}\n    };\n    var income_data = {};\n    var age_data = {};\n\n    if (this.props.data_range == ZIP) {\n      if (this.state.zipStats != null) {\n        social_data = this.state.zipStats.social;\n        income_data = this.state.zipStats.income;\n        age_data = this.state.zipStats.age;\n      }\n    } else if (this.props.data_range == TRADE_ZONE) {\n      if (this.state.tradeZoneStats != null) {\n        social_data = this.state.tradeZoneStats.social;\n        income_data = this.state.tradeZoneStats.income;\n        age_data = this.state.tradeZoneStats.age;\n      }\n    }\n\n    const NestedCard = _ref => {\n      let {\n        name,\n        data,\n        key_i\n      } = _ref;\n      let total = 0;\n      Object.entries(data).forEach(_ref2 => {\n        let [k, v] = _ref2;\n        if (k.toLowerCase().search('total') <= -1 && k.toLowerCase().search('median') <= -1) total += v;\n      });\n      return /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          backgroundColor: lightBg\n        },\n        children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n          as: Card.Header,\n          eventKey: key_i,\n          style: {\n            color: 'whitesmoke',\n            backgroundColor: darkBg,\n            margin: '3px',\n            fontWeight: 'bold'\n          },\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n          eventKey: key_i,\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                overflowX: \"auto\",\n                width: \"100%\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                striped: true,\n                bordered: true,\n                hover: true,\n                variant: \"dark\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: Object.entries(data).map((data, i) => {\n                    let entry = data[0].replace(/_/g, ' ');\n                    let output = getPercent(data[1], total);\n                    if (entry.toLowerCase().search('total') > -1 || entry.toLowerCase().search('median') > -1) output = formatCommas(data[1]);\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: capitalize(entry)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: output\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 69\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 37\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this);\n    };\n\n    let business_type = this.props.business_type.type.replace(/_/g, ' ');\n    if (business_type == 'lodging') business_type = 'hotel /lodging';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"demographics_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: 'whitesmoke'\n            },\n            children: \"Demographics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(InfoButton, {\n            clickFunction: () => this.setModalShow(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(MyVerticallyCenteredModal, {\n            show: this.state.showModal,\n            onHide: () => this.setState({\n              showModal: false\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            height: '35px',\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            disabled: this.state.zipDisabled,\n            variant: this.state.zipVariant,\n            className: \"map-control_button\",\n            onClick: this.onUpdateDataRange,\n            value: 'zip',\n            style: {\n              width: '50%',\n              height: 35,\n              padding: '0',\n              fontWeight: 'bold'\n            },\n            children: this.state.zipHeader\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n            click: this.onUpdateDataRange,\n            buffer: this.checkForTradeZone,\n            buttonVariant: this.state.tzVariant,\n            hasValidTradeZone: this.state.hasValidTradeZone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          backgroundColor: lightBg\n        },\n        children: /*#__PURE__*/_jsxDEV(Accordion, {\n          defaultActiveKey: \"0\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              backgroundColor: lightBg\n            },\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Card.Header,\n              eventKey: \"0\",\n              ref: ref => this.accordion = ref,\n              style: {\n                color: 'whitesmoke',\n                backgroundColor: darkBg,\n                marginTop: '3px',\n                fontWeight: 'bold'\n              },\n              children: \"General\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n              eventKey: \"0\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  striped: true,\n                  bordered: true,\n                  hover: true,\n                  variant: \"dark\",\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    style: {\n                      overflowX: 'auto'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Your Proposed Business Type\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                            style: {\n                              color: textPrimary\n                            },\n                            style: {\n                              color: textPrimary\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 261,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                            as: \"select\",\n                            name: \"business_type\",\n                            value: this.state.business_type,\n                            onChange: this.onBusinessFormChange,\n                            children: BUSINESS_TYPES.map((e, i) => {\n                              return /*#__PURE__*/_jsxDEV(\"option\", {\n                                children: e.replace(/_/g, ' ')\n                              }, i, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 264,\n                                columnNumber: 56\n                              }, this);\n                            })\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 262,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 260,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: this.props.address.formatted\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 46\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Population\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [social_data.summary.population != undefined && formatCommas(social_data.summary.population), !hasValidTradeZone && social_data.summary.population == undefined && 'loading...']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 48\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Median Age\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [social_data.summary.median_age != undefined && social_data.summary.median_age + ' yrs', !hasValidTradeZone && social_data.summary.median_age == undefined && 'loading...']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 48\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 38\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Median Household Income\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [income_data.median != undefined && '$' + formatCommas(income_data.median), !hasValidTradeZone && income_data.median == undefined && 'loading...']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 38\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Males\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [social_data.summary.gender.males != undefined && formatCommas(social_data.summary.gender.males), !hasValidTradeZone && social_data.summary.gender.males == undefined && 'loading...']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 43\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Females\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [social_data.summary.gender.females != undefined && formatCommas(social_data.summary.gender.females), !hasValidTradeZone && social_data.summary.gender.females == undefined && 'loading...']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              backgroundColor: lightBg\n            },\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Card.Header,\n              eventKey: this.state.accordianKeys[this.props.data_range.split(' ')[0]][1],\n              style: {\n                color: 'whitesmoke',\n                backgroundColor: darkBg,\n                marginTop: '3px',\n                fontWeight: 'bold'\n              },\n              children: \"Social\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n              eventKey: \"1\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Accordion, {\n                  defaultActiveKey: \"0\",\n                  children: [!(this.props.data_range == TRADE_ZONE && this.state.isnyc) && /*#__PURE__*/_jsxDEV(NestedCard, {\n                    name: \"Ethnicity\",\n                    data: social_data.race,\n                    key_i: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 90\n                  }, this), !(this.props.data_range == TRADE_ZONE && this.state.isnyc) && /*#__PURE__*/_jsxDEV(NestedCard, {\n                    name: \"Nativity\",\n                    data: social_data.nativity,\n                    key_i: \"1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 91\n                  }, this), !(this.props.data_range == TRADE_ZONE && this.state.isnyc) && /*#__PURE__*/_jsxDEV(NestedCard, {\n                    name: \"Education (Ages 25+)\",\n                    data: social_data.education,\n                    key_i: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 89\n                  }, this), /*#__PURE__*/_jsxDEV(NestedCard, {\n                    name: \"Marital Status\",\n                    data: social_data.marital_status,\n                    key_i: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 25\n                  }, this), !(this.props.data_range == TRADE_ZONE) && /*#__PURE__*/_jsxDEV(NestedCard, {\n                    name: \"Transportation (for work)\",\n                    data: social_data.transportation,\n                    key_i: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 69\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              backgroundColor: lightBg\n            },\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Card.Header,\n              eventKey: this.state.accordianKeys[this.props.data_range.split(' ')[0]][2],\n              style: {\n                color: 'whitesmoke',\n                background: darkBg,\n                fontWeight: 'bold'\n              },\n              children: \"Household Income\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n              eventKey: \"2\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  striped: true,\n                  bordered: true,\n                  hover: true,\n                  variant: \"dark\",\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Sample total\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: formatCommas(income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 50\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Median Household Income\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: '$' + formatCommas(income_data.median)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 62\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"0-35k\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 328,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(income_data._0_9999 + income_data._10000_14999 + income_data._15000_19999 + income_data._20000_24999 + income_data._25000_29999 + income_data._30000_34999, income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 328,\n                        columnNumber: 44\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"35-50k\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(income_data._35000_39999 + income_data._40000_44999 + income_data._45000_49999, income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"50-75k\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(income_data._50000_59999 + income_data._60000_74999, income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"75-100k\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(income_data._75000_99999, income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 46\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"100-150k\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 336,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(income_data._100000_124999 + income_data._125000_149999, income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 336,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"150-200k\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(income_data._150000_199999, income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"200k+\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(income_data._200000_MORE, income_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 44\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              backgroundColor: lightBg\n            },\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Card.Header,\n              eventKey: this.state.accordianKeys[this.props.data_range.split(' ')[0]][3],\n              style: {\n                color: 'whitesmoke',\n                background: darkBg,\n                fontWeight: 'bold'\n              },\n              children: \"Age\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n              eventKey: \"3\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  striped: true,\n                  bordered: true,\n                  hover: true,\n                  variant: \"dark\",\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Median\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 356,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: age_data.median_age + ' yrs'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 356,\n                        columnNumber: 44\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"Sample Total\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: formatCommas(age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 51\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"0-9yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.ZERO_FIVE + age_data.FIVE_NINE, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"10-19yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.TEN_FOURTEEN + age_data.FIFTEEN_SEVENTEEN + age_data.EIGHTEEN_NINETEEN, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"20-29yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 364,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.TWENTY + age_data.TWENTYONE + age_data.TWENTYTWO_TWENTYFOUR + age_data.TWENTYFIVE_TWENTYNINE, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 364,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"30-39yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.THIRTY_THIRTYFOUR + age_data.THIRTYFIVE_THIRTYNINE, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"40-49yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.FORTY_FORTYFOUR + age_data.FORTYFIVE_FORTYNINE, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"50-59yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.FIFTY_FIFTYFOUR + age_data.FIFTYFIVE_FIFTYNINE, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"60-69yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.SIXTY_SIXTYONE + age_data.SIXTYTWO_SIXTYFOUR + age_data.SIXTYFIVE_SIXTYSIX + age_data.SIXTYSEVEN_SIXTYNINE, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"70-79yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 374,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.SEVENTY_SEVENTYFOUR + age_data.SEVENTYFIVE_SEVENTYNINE, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 374,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: \"80+yrs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: getPercent(age_data.EIGHTY_EIGHTYFOUR + age_data.EIGHTYFIVE_UP, age_data.sample_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nconst LoadingButton = props => {\n  _s();\n\n  const [isLoading, setLoading] = useState(false);\n  useEffect(() => {\n    if (isLoading) {\n      props.buffer().then(() => {\n        setLoading(false);\n      });\n    }\n  }, [isLoading]);\n\n  const handleClick = e => {\n    props.click(e);\n    setLoading(true);\n  };\n\n  let label = isLoading ? 'Loading...' : 'Tradezone';\n  if (props.hasValidTradeZone) label += ' Unavailable';\n  return /*#__PURE__*/_jsxDEV(Button, {\n    style: {\n      margin: 'auto',\n      width: '50%',\n      height: 35,\n      padding: '0',\n      fontWeight: 'bold'\n    },\n    variant: props.buttonVariant,\n    disabled: props.hasValidTradeZone,\n    value: 'tradeZone',\n    onClick: !isLoading ? handleClick : null,\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 414,\n    columnNumber: 7\n  }, this);\n};\n\n_s(LoadingButton, \"LHJkidtbt8bk0SOCXf2Y2viet6g=\");\n\n_c = LoadingButton;\n\nconst formatCommas = value => {\n  if (value == undefined) return '';\n  return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst getPercent = (value, total) => {\n  return (value / total * 100).toFixed(1) + '%';\n};\n\nconst capitalize = word => {\n  let split = word.split(' ');\n  let capitalize = [];\n  split.forEach(e => {\n    if (e == 'or' || e == 'or') capitalize.push(e);else capitalize.push(e.substring(0, 1).toUpperCase() + e.substring(1, e.length));\n  });\n  return capitalize.join(' ');\n};\n\nconst InfoButton = props => {\n  _s2();\n\n  const [clicked, setClicked] = useState(false);\n  let color = 'white';\n\n  if (clicked) {//   color = 'rgba(255,255,255,0.5'\n  } else color = 'white';\n\n  let style = {\n    color: color,\n    marginRight: '0.4em'\n  };\n  return /*#__PURE__*/_jsxDEV(AiOutlineInfoCircle, {\n    size: 20,\n    onClick: e => [setClicked(!clicked), props.clickFunction()],\n    style: style\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 459,\n    columnNumber: 10\n  }, this);\n};\n\n_s2(InfoButton, \"NL05b5J4z4O/U6wEzhVGl+YEdv8=\");\n\n_c2 = InfoButton;\n\nconst MyVerticallyCenteredModal = props => {\n  return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        children: \"Demographics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          fontSize: '20px'\n        },\n        children: \"1. Zip Code and Tradezone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginLeft: '1em'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \" Zip Codes \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 14\n            },\n            children: \"Zip codes may contain visible gaps, especially in urban areas. This will occurr in the special case of a designated zip code for a particular building or complex such as Penn Station or the Empire State Building. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \" Trade Zone \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 14\n            },\n            children: [\"The 'Trade Zone' is calculated by aggregating the set of census \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://www2.census.gov/geo/pdfs/education/CensusTracts.pdf\",\n              children: \"tracts \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 109\n            }, this), \"that fall within a radius of 1 mile for 'driving' and 0.25 miles for 'walking.'\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 14\n            },\n            children: \"Note that results may vary if location is bordering areas not within the following locations: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                fontSize: 14\n              },\n              children: \"New Jersey, the 5 boroughs of New York City, and Long Island\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 23\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          fontSize: '20px'\n        },\n        children: \"2. Statistics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginLeft: '1em'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 14\n            },\n            children: [\"Demographics statistics are calculated using the U.S. Census's \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://www.census.gov/programs-surveys/acs\",\n              children: \"2017 American Community Survey.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 108\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.onHide,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 467,\n    columnNumber: 7\n  }, this);\n};\n\n_c3 = MyVerticallyCenteredModal;\nconst mapStateToProps = createSelector(\n/* for above\n     {this.income_data == undefined && <NestedCard name={\"Income\"} data={<Text>Loading..</Text>} key_i={\"2\"}></NestedCard>}\n            {this.income_data != undefined && <NestedCard name={\"Income\"} data={income_data} key_i={\"2\"}></NestedCard>}\n*/\ntractSelector, addressSelector, dataRangeSelector, tradeZoneBoundsSelector, statsSelector, isCitySelector, geoUnitSelector, businessTypeSelector, (tract, address, data_range, tradeZone_bounds, stats, isCity, geo_unit, business_type) => ({\n  tract,\n  address,\n  data_range,\n  tradeZone_bounds,\n  stats,\n  isCity,\n  geo_unit,\n  business_type\n}));\nconst mapActionsToProps = {\n  onUpdateDataRange: updateDataRange,\n  onUpdateTradeZoneBounds: updateTradeZoneBounds,\n  onUpdateBusinessType: updateBusinessType,\n  onUpdateStatsZip: updateStatsZip,\n  onUpdateStatsTZ: updateStatsTradezone\n};\nexport default connect(mapStateToProps, mapActionsToProps)(DemographicsPanel);\n/**\n *   <tr>\n                             <td>City</td><td>{ this.props.city}</td>\n                             </tr><tr>\n                             <td>Street</td><td>{this.props.street}</td>\n                             </tr>\n */\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"LoadingButton\");\n$RefreshReg$(_c2, \"InfoButton\");\n$RefreshReg$(_c3, \"MyVerticallyCenteredModal\");","map":{"version":3,"names":["React","useState","useEffect","Table","Accordion","Form","updateBusinessType","BUSINESS_TYPES","Card","connect","createSelector","updateDataRange","updateStatsZip","updateStatsTradezone","isCitySelector","tractSelector","addressSelector","dataRangeSelector","tradeZoneBoundsSelector","statsSelector","geoUnitSelector","businessTypeSelector","Button","createTradeZoneStats","updateTradeZoneBounds","AiOutlineInfoCircle","getZipData","getTradezoneData","Modal","determineRadius","ZIP","TRADE_ZONE","darkBg","lightBg","textPrimary","DemographicsPanel","Component","constructor","props","onUpdateDataRange","event","val","target","value","setState","zipVariant","tzVariant","onUpdateStatsZip","stats","onUpdateStatsTZ","getZip","address","state","zip","res","length","zipStats","accordianKeys","zipHeader","zipDisabled","loadNewTradeZoneStats","params","radius","isnyc","coords","lat","lng","tradeZoneStats","statsLoaded","hasValidTradeZone","tradeZone","checkForTradeZone","Promise","resolve","loop","setInterval","clearInterval","onUpdateTradeZoneBounds","tradeZone_bounds","setModalShow","flag","showModal","onBusinessFormChange","type","business_type","business","replace","priceLevel","onUpdateBusinessType","isValid","componentDidMount","render","social_data","summary","gender","race","nativity","education","marital_status","employment","transportation","income_data","age_data","data_range","social","income","age","NestedCard","name","data","key_i","total","Object","entries","forEach","k","v","toLowerCase","search","backgroundColor","Header","color","margin","fontWeight","overflowX","width","map","i","entry","output","getPercent","formatCommas","capitalize","display","flexDirection","alignItems","justifyContent","height","padding","flex","overflowY","ref","accordion","marginTop","e","formatted","population","undefined","median_age","median","males","females","split","background","sample_total","_0_9999","_10000_14999","_15000_19999","_20000_24999","_25000_29999","_30000_34999","_35000_39999","_40000_44999","_45000_49999","_50000_59999","_60000_74999","_75000_99999","_100000_124999","_125000_149999","_150000_199999","_200000_MORE","ZERO_FIVE","FIVE_NINE","TEN_FOURTEEN","FIFTEEN_SEVENTEEN","EIGHTEEN_NINETEEN","TWENTY","TWENTYONE","TWENTYTWO_TWENTYFOUR","TWENTYFIVE_TWENTYNINE","THIRTY_THIRTYFOUR","THIRTYFIVE_THIRTYNINE","FORTY_FORTYFOUR","FORTYFIVE_FORTYNINE","FIFTY_FIFTYFOUR","FIFTYFIVE_FIFTYNINE","SIXTY_SIXTYONE","SIXTYTWO_SIXTYFOUR","SIXTYFIVE_SIXTYSIX","SIXTYSEVEN_SIXTYNINE","SEVENTY_SEVENTYFOUR","SEVENTYFIVE_SEVENTYNINE","EIGHTY_EIGHTYFOUR","EIGHTYFIVE_UP","LoadingButton","isLoading","setLoading","buffer","then","handleClick","click","label","buttonVariant","toString","toFixed","word","push","substring","toUpperCase","join","InfoButton","clicked","setClicked","style","marginRight","clickFunction","MyVerticallyCenteredModal","fontSize","marginLeft","onHide","mapStateToProps","tract","isCity","geo_unit","mapActionsToProps"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Components/Map/Panels/DemographicsPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Table from 'react-bootstrap/Table'\nimport Accordion from 'react-bootstrap/Accordion'\nimport Form from 'react-bootstrap/Form'\nimport { updateBusinessType} from '../../../Actions/business-actions'\nimport { BUSINESS_TYPES } from '../../../Constants'\nimport Card from 'react-bootstrap/Card'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport { updateDataRange } from '../../../Actions/dataRange-actions'\nimport { updateStatsZip, updateStatsTradezone } from '../../../Actions/stats-actions'\nimport { isCitySelector, tractSelector, addressSelector, dataRangeSelector, tradeZoneBoundsSelector, statsSelector, geoUnitSelector, businessTypeSelector } from '../../../Reducers/selectors';\nimport Button from 'react-bootstrap/Button'\nimport { createTradeZoneStats } from '../../../Requests/locations-requests'\nimport { updateTradeZoneBounds } from '../../../Actions/tradeZoneBoundaries-actions'\nimport {AiOutlineInfoCircle} from 'react-icons/ai'\nimport { getZipData, getTradezoneData } from '../../../Requests/tradezones-requests';\nimport Modal from 'react-bootstrap/Modal'\nimport { determineRadius } from '../../utils/distance';\n\nexport const ZIP = 'zip code tabulation area'\nexport const TRADE_ZONE = 'tradeZone'\nconst darkBg = 'rgb(26,28,41)'\nconst lightBg = 'rgb(31,33,48)'\nconst textPrimary = 'whitesmoke'\n\nclass DemographicsPanel extends React.Component {\n    constructor(props) {\n        super(props) \n\n        // reconcile state display and backend business type encoding\n        let business_type = this.props.business_type.type\n        if (business_type == 'lodging') business_type = 'hotels /lodging'\n\n        this.state = {\n            statsLoaded : false,\n            zipVariant : 'light',\n            tzVariant : 'dark',\n            zipDisabled : false,\n            zipHeader : \"Zip - \" + this.props.address.zip,\n            accordianKeys :  { zip :  ['0', '0', '0', '0'], tradeZone : ['0', '0', '0', '0']},\n            showModal : false,\n            business_type : business_type.replace(/_/g, ' '),\n            hasValidTradeZone: false \n         }\n    };\n\n    async componentDidMount() {\n        this.getZip()\n        this.loadNewTradeZoneStats()  \n    };\n\n   onUpdateDataRange = (event) =>  {\n    let val = event.target.value\n    if (val === 'zip') {\n        this.props.onUpdateDataRange(ZIP)\n        this.setState({ zipVariant: 'light', tzVariant: 'dark'})\n    }\n    else if (val == 'tradeZone') {\n        this.props.onUpdateDataRange(TRADE_ZONE)\n        this.setState({zipVariant: 'dark', tzVariant: 'light'})\n    }\n   };\n\n   onUpdateStatsZip = (stats) => {\n       updateStatsZip(stats)\n   };\n\n   onUpdateStatsTZ = (stats) => {\n    updateStatsTradezone(stats)\n};\n\n    getZip = async () => {\n       const { address } = this.props;\n       const { state, zip } = address;\n\n       const res = await getZipData(state, zip);\n       if (res.length >= 1) {\n            this.setState({ zipStats : res[0].stats, accordianKeys : {...this.state.accordianKeys, zip: ['0', '1', '2', '3']}})\n            this.props.onUpdateStatsZip(res[0])\n       } else {\n           this.setState({ zipHeader: 'Zip Unavailable', zipDisabled: true })\n        this.props.onUpdateDataRange(TRADE_ZONE)\n        this.setState({zipVariant: 'dark', tzVariant: 'light'})\n       }\n    };\n\n    loadNewTradeZoneStats = async () => {\n        const { address, stats } = this.props;\n        const params = determineRadius(address.zip)\n        const { radius, isnyc } = params;\n\n        this.setState({ isnyc });\n\n        const res = await getTradezoneData(address.state, address.zip, address.coords.lat, address.coords.lng, radius, isnyc);\n    \n        if (res.stats) {\n            // set internal state\n            this.setState({ tradeZoneStats : res.stats, statsLoaded : true, hasValidTradeZone: false, // wtf is this named that???\n                accordianKeys : {...this.state.accordianKeys, tradeZone: ['0', '1', '2', '3']}\n            })\n           this.props.onUpdateStatsTZ(res);\n        }\n    };\n\n    checkForTradeZone = () => {\n        return new Promise(resolve => {\n            if (this.state.tradeZoneStats == null) {\n                let loop = setInterval(()=> {\n                    if (this.state.tradeZoneStats != null) {\n                        clearInterval(loop)\n                        resolve()\n                    }\n                }, 100)\n             } else resolve()\n        })\n    };\n\n    onUpdateTradeZoneBounds = tradeZone_bounds => {\n        this.props.onUpdateTradeZoneBounds(tradeZone_bounds)\n    };\n\n    setModalShow = (flag) => {\n        this.setState({showModal: flag})\n    };\n\n    onBusinessFormChange = (event) => {\n        let type = event.target.value\n        this.setState({ business_type : type })\n\n        // for props\n        if (type == 'hotels /lodging') type = 'lodging'\n        let business = {\n            type: type.replace(/ /g, '_'),\n            priceLevel : 0\n        }\n\n        this.onUpdateBusinessType(business)\n    };\n\n    onUpdateBusinessType(business_type) {\n        this.props.onUpdateBusinessType(business_type)\n    };\n\n    hasValidTradeZone = () => {\n        const { address } = this.props\n        const isValid = address.state !== 'NJ' && address.state !== 'NY'\n        this.setState({ hasValidTradeZone : isValid })\n        return isValid;\n    };\n\n    render() {\n        const { hasValidTradeZone } = this.state\n\n        var social_data =  {\n            summary: {\n                gender : {},\n            },\n            \n            race : {},\n            nativity: {},\n            education : {},\n            marital_status : {},\n            employment : {},\n            transportation : {}\n        }\n        var income_data = {}\n        var age_data={}\n\n        if (this.props.data_range == ZIP) {\n            if (this.state.zipStats != null) {\n                social_data = this.state.zipStats.social\n                income_data = this.state.zipStats.income\n                age_data = this.state.zipStats.age\n            }\n        } else if (this.props.data_range == TRADE_ZONE) {\n            if (this.state.tradeZoneStats != null) {\n                social_data = this.state.tradeZoneStats.social\n                income_data = this.state.tradeZoneStats.income\n                age_data = this.state.tradeZoneStats.age\n            }\n        }\n\n        const NestedCard = ({name, data, key_i}) => {\n            let total = 0\n            Object.entries(data).forEach(([k,v]) => {\n                if (k.toLowerCase().search('total') <= -1 && k.toLowerCase().search('median') <= -1)\n                    total += v\n            })\n      \n            return (\n                <Card style={{backgroundColor: lightBg}}>\n                    <Accordion.Toggle as={Card.Header} eventKey={key_i} style={{color: 'whitesmoke', backgroundColor: darkBg, margin: '3px', fontWeight: 'bold'}}>\n                        {name}\n                        </Accordion.Toggle>\n                        <Accordion.Collapse eventKey={key_i} >\n                    <Card.Body>\n                        <div style={{overflowX: \"auto\", width: \"100%\"}}>\n                        <Table striped bordered hover variant=\"dark\" >\n                        <tbody>\n                            {\n                                Object.entries(data).map((data, i) => {\n                                let entry = data[0].replace(/_/g, ' ')\n\n                                let output = getPercent(data[1], total)\n                                if (entry.toLowerCase().search('total') > -1 || entry.toLowerCase().search('median') > -1) output = formatCommas(data[1])\n                                return (\n                                    <tr key={i}>\n                                        <td>{capitalize(entry)}</td><td>{output}</td>\n                                    </tr>\n                                );\n                                })}\n                        </tbody>\n                        </Table>\n                        </div>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n            )\n        }\n        let business_type= this.props.business_type.type.replace(/_/g, ' ')\n        if (business_type == 'lodging') business_type = 'hotel /lodging'\n\n        return (\n           <div className=\"demographics_container\" >\n\n             <div style={{ display: 'flex', flexDirection: 'column', width: '100%'}}>\n                <br></br>\n                    <div style={{ display: 'flex',flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', }}>\n                        <p></p>\n                        <strong style={{color:'whitesmoke', }}>Demographics</strong>\n                        <InfoButton clickFunction={()=>this.setModalShow(true)}/>   \n                        <MyVerticallyCenteredModal\n                            show={this.state.showModal}\n                            onHide={() => this.setState({showModal:false})}\n                        />\n                    </div>\n                    <br></br>\n                <div style={{display: 'flex', height: '35px', width: '100%'}}>\n                  <Button disabled={this.state.zipDisabled} variant={this.state.zipVariant} className='map-control_button'  onClick={this.onUpdateDataRange} value= {'zip'} style={{ width: '50%', height: 35, padding: '0', fontWeight: 'bold'}}>\n                    {this.state.zipHeader}\n                </Button>\n                <LoadingButton click={this.onUpdateDataRange} buffer={this.checkForTradeZone} buttonVariant={this.state.tzVariant} hasValidTradeZone={this.state.hasValidTradeZone}/>\n                </div>\n            </div>\n           \n            <div style={{ flex: 1, overflowY: 'auto', backgroundColor: lightBg}}>\n               <Accordion defaultActiveKey='0'>\n                <Card style={{backgroundColor: lightBg}}>\n                    <Accordion.Toggle as={Card.Header} eventKey=\"0\" ref={ref => this.accordion = ref} style={{color: 'whitesmoke', backgroundColor: darkBg, marginTop: '3px', fontWeight: 'bold'}}>\n                    General\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey=\"0\" >\n                    <Card.Body>\n                        <Table striped bordered hover variant=\"dark\" >\n                        <tbody style={{overflowX: 'auto'}}>\n                            <tr>\n                            <td>Your Proposed Business Type</td>\n                            <td>\n                                <Form.Group>\n                                    <Form.Label style={{color: textPrimary}} style={{color: textPrimary}}></Form.Label>\n                                    <Form.Control as=\"select\" name=\"business_type\" value={this.state.business_type} onChange={this.onBusinessFormChange}>\n                                            {BUSINESS_TYPES.map((e,i) => {\n                                                return <option key={i}>{e.replace(/_/g, ' ')}</option>\n                                            })}\n                                    </Form.Control>\n                                </Form.Group>\n                            </td>\n                             </tr><tr>\n                             <td>Address</td><td>{ this.props.address.formatted}</td>\n                             </tr>\n                           <tr>\n                            <td>Population</td><td>{social_data.summary.population != undefined && formatCommas(social_data.summary.population)}\n                                {!hasValidTradeZone && social_data.summary.population == undefined && 'loading...'}\n                            </td>\n                                </tr><tr>\n                            <td>Median Age</td><td>{social_data.summary.median_age != undefined && social_data.summary.median_age + ' yrs'}\n                            {!hasValidTradeZone && social_data.summary.median_age == undefined && 'loading...'}\n                            </td>\n                                </tr><tr>\n                            <td>Median Household Income</td><td>{income_data.median != undefined && '$'+formatCommas(income_data.median)}\n                            {!hasValidTradeZone && income_data.median == undefined && 'loading...'}\n                            </td>\n                            </tr><tr>\n                            <td>Males</td><td>{social_data.summary.gender.males != undefined && formatCommas(social_data.summary.gender.males)}\n                            {!hasValidTradeZone && social_data.summary.gender.males == undefined && 'loading...'}\n                            </td>\n                             </tr><tr>\n                            <td>Females</td><td>{social_data.summary.gender.females != undefined && formatCommas(social_data.summary.gender.females)}\n                            {!hasValidTradeZone && social_data.summary.gender.females == undefined && 'loading...'}\n                            </td>\n                             </tr>\n                        </tbody>\n                        </Table>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                \n                <Card style={{backgroundColor: lightBg}}>\n                    <Accordion.Toggle as={Card.Header} eventKey={this.state.accordianKeys[this.props.data_range.split(' ')[0]][1]} style={{color: 'whitesmoke', backgroundColor: darkBg, marginTop: '3px', fontWeight: 'bold'}}>\n                    Social\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey=\"1\">\n                    <Card.Body>\n                        <Accordion defaultActiveKey=\"0\">\n                        { !(this.props.data_range == TRADE_ZONE && this.state.isnyc) &&  <NestedCard name={\"Ethnicity\"} data={social_data.race} key_i={\"0\"}></NestedCard> }\n                        { !(this.props.data_range == TRADE_ZONE && this.state.isnyc ) &&  <NestedCard name={\"Nativity\"} data={social_data.nativity} key_i={\"1\"}></NestedCard> }\n                        {!(this.props.data_range == TRADE_ZONE && this.state.isnyc)  && <NestedCard name={\"Education (Ages 25+)\"} data={social_data.education} key_i={\"2\"}></NestedCard> }\n                        <NestedCard name={\"Marital Status\"} data={social_data.marital_status} key_i={\"3\"}></NestedCard> \n                        { !(this.props.data_range == TRADE_ZONE) && <NestedCard name={\"Transportation (for work)\"} data={social_data.transportation} key_i={\"4\"}></NestedCard> }\n                        </Accordion>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <Card style={{backgroundColor: lightBg}}>\n                    <Accordion.Toggle as={Card.Header} eventKey={this.state.accordianKeys[this.props.data_range.split(' ')[0]][2]}style={{color: 'whitesmoke', background: darkBg, fontWeight: 'bold'}}>\n                    Household Income\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey=\"2\" >\n                    <Card.Body>\n                        <Table striped bordered hover variant=\"dark\" >\n                        <tbody>\n                            <tr>\n                            <td>Sample total</td><td>{formatCommas(income_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>Median Household Income</td><td>{'$'+ formatCommas(income_data.median)}</td>\n                             </tr><tr>\n                             <td>0-35k</td><td>{getPercent(income_data._0_9999 + income_data._10000_14999 + income_data._15000_19999 + income_data._20000_24999 + income_data._25000_29999 + income_data._30000_34999, income_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>35-50k</td><td>{getPercent(income_data._35000_39999 + income_data._40000_44999 + income_data._45000_49999, income_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>50-75k</td><td>{getPercent(income_data._50000_59999 + income_data._60000_74999, income_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>75-100k</td><td>{getPercent(income_data._75000_99999, income_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>100-150k</td><td>{getPercent(income_data._100000_124999 + income_data._125000_149999, income_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>150-200k</td><td>{getPercent(income_data._150000_199999, income_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>200k+</td><td>{getPercent(income_data._200000_MORE, income_data.sample_total)}</td>\n                             </tr>\n                        </tbody>\n                        </Table>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <Card style={{backgroundColor: lightBg}}>\n                    <Accordion.Toggle as={Card.Header} eventKey={this.state.accordianKeys[this.props.data_range.split(' ')[0]][3]} style={{color: 'whitesmoke', background: darkBg, fontWeight: 'bold'}}>\n                    Age\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey=\"3\" >\n                    <Card.Body>\n                        <Table striped bordered hover variant=\"dark\" >\n                        <tbody>\n                            <tr>\n                            <td>Median</td><td>{age_data.median_age + ' yrs'}</td>\n                             </tr><tr>\n                             <td>Sample Total</td><td>{formatCommas(age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>0-9yrs</td><td>{getPercent(age_data.ZERO_FIVE + age_data.FIVE_NINE, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>10-19yrs</td><td>{getPercent(age_data.TEN_FOURTEEN + age_data.FIFTEEN_SEVENTEEN + age_data.EIGHTEEN_NINETEEN, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>20-29yrs</td><td>{getPercent(age_data.TWENTY + age_data.TWENTYONE + age_data.TWENTYTWO_TWENTYFOUR + age_data.TWENTYFIVE_TWENTYNINE, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>30-39yrs</td><td>{getPercent(age_data.THIRTY_THIRTYFOUR + age_data.THIRTYFIVE_THIRTYNINE, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>40-49yrs</td><td>{getPercent(age_data.FORTY_FORTYFOUR + age_data.FORTYFIVE_FORTYNINE, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>50-59yrs</td><td>{getPercent(age_data.FIFTY_FIFTYFOUR + age_data.FIFTYFIVE_FIFTYNINE, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>60-69yrs</td><td>{getPercent(age_data.SIXTY_SIXTYONE + age_data.SIXTYTWO_SIXTYFOUR + age_data.SIXTYFIVE_SIXTYSIX + age_data.SIXTYSEVEN_SIXTYNINE, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>70-79yrs</td><td>{getPercent(age_data.SEVENTY_SEVENTYFOUR + age_data.SEVENTYFIVE_SEVENTYNINE, age_data.sample_total)}</td>\n                             </tr><tr>\n                             <td>80+yrs</td><td>{getPercent(age_data.EIGHTY_EIGHTYFOUR + age_data.EIGHTYFIVE_UP, age_data.sample_total)}</td>\n                             </tr>\n                        </tbody>\n                        </Table>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                  \n                </Card>\n                </Accordion>\n              \n                </div>\n\n                \n           </div>\n        );\n    }\n}\n\nconst LoadingButton = (props) => {\n    const [isLoading, setLoading] = useState(false)\n    \n    useEffect(() => {\n      if (isLoading) {\n        props.buffer().then(() => {\n          setLoading(false);\n        });\n      }\n    }, [isLoading]);\n\n    const handleClick = (e) =>{\n        props.click(e)\n        setLoading(true); \n    }\n  \n    let label = (isLoading) ? 'Loading...' : 'Tradezone'\n    if (props.hasValidTradeZone) label += ' Unavailable'\n\n    return (\n      <Button\n        style={{margin: 'auto', width: '50%', height: 35, padding: '0', fontWeight: 'bold'}}\n        variant={props.buttonVariant}\n        disabled={props.hasValidTradeZone}\n        value = {'tradeZone'} \n        onClick={!isLoading ? handleClick : null}\n      >\n        {label}\n      </Button>\n    );\n  }\n\n  const formatCommas = (value) => {\n    if (value == undefined) return ''\n    return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n  }\n\n  const getPercent = (value, total) => {\n      return ((value/total) * 100).toFixed(1) + '%'\n  }\n\n  const capitalize = word => {\n      let split = word.split(' ')\n      let capitalize = []\n      split.forEach(e => {\n          if (e == 'or' || e == 'or')\n            capitalize.push(e)\n          else \n            capitalize.push(e.substring(0, 1).toUpperCase() + e.substring(1, e.length))\n      })\n      return capitalize.join(' ')\n  }\n\n  const InfoButton = (props) => {\n    const [clicked, setClicked] = useState(false)\n    let color = 'white'\n\n    if (clicked) {\n     //   color = 'rgba(255,255,255,0.5'\n    }\n    else color = 'white'\n    \n    let style = {color: color,  marginRight: '0.4em'}\n\n    return (\n         <AiOutlineInfoCircle size={20} onClick={(e)=> [setClicked(!clicked), props.clickFunction()]} \n         style={style}/>\n    ) \n}\n\n\n  const MyVerticallyCenteredModal = (props) => {\n    return (\n      <Modal\n        {...props}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            Demographics\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n        <h3 style={{fontSize: '20px'}}>\n            1. Zip Code and Tradezone\n          </h3>\n          <p style={{ marginLeft: '1em'}}>\n              <p>\n              <strong> Zip Codes </strong>   \n              <br></br>\n              <span style={{ fontSize: 14}}>Zip codes may contain visible gaps, especially in urban areas. \n              This will occurr in the special case of a designated zip code for a particular building or \n              complex such as Penn Station or the Empire State Building. </span>\n              </p>\n              <p>\n              <strong> Trade Zone </strong>   \n              <br></br>\n              <span style={{ fontSize: 14}}>The 'Trade Zone' is calculated by aggregating the set of census <a href='https://www2.census.gov/geo/pdfs/education/CensusTracts.pdf'>tracts </a> \n                that fall within a radius of 1 mile for 'driving' and 0.25 miles for 'walking.'</span>\n                <br></br>\n                <span style={{ fontSize: 14}}>Note that results may vary if location is bordering areas not within the following locations: </span>\n                <br></br>\n                <span><strong style={{ fontSize: 14}}>New Jersey, the 5 boroughs of New York City, and Long Island</strong> </span> \n              </p>\n          </p>\n          <h3 style={{fontSize: '20px'}}>\n            2. Statistics\n          </h3>\n          <p style={{ marginLeft: '1em'}}>\n              <p>\n              <span style={{ fontSize: 14}}>Demographics statistics are calculated using the U.S. Census's <a href='https://www.census.gov/programs-surveys/acs'>2017 American Community Survey.</a> </span>\n              </p>\n          </p>\n      \n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={props.onHide}>Close</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n\n\nconst mapStateToProps = createSelector(\n    /* for above\n         {this.income_data == undefined && <NestedCard name={\"Income\"} data={<Text>Loading..</Text>} key_i={\"2\"}></NestedCard>}\n                {this.income_data != undefined && <NestedCard name={\"Income\"} data={income_data} key_i={\"2\"}></NestedCard>}\n    */\n    tractSelector,\n    addressSelector,\n    dataRangeSelector,\n    tradeZoneBoundsSelector,\n    statsSelector,\n    isCitySelector,\n    geoUnitSelector,\n    businessTypeSelector,\n\n    (tract, address, data_range, tradeZone_bounds, stats, isCity, geo_unit, business_type) => ({\n        tract, address, data_range, tradeZone_bounds, stats, isCity, geo_unit, business_type\n    })\n);\n\nconst mapActionsToProps = {\n    onUpdateDataRange: updateDataRange,\n    onUpdateTradeZoneBounds: updateTradeZoneBounds,\n    onUpdateBusinessType : updateBusinessType,\n    onUpdateStatsZip: updateStatsZip,\n    onUpdateStatsTZ: updateStatsTradezone\n};\n\nexport default connect(mapStateToProps, mapActionsToProps) (DemographicsPanel);\n\n\n/**\n *   <tr>\n                             <td>City</td><td>{ this.props.city}</td>\n                             </tr><tr>\n                             <td>Street</td><td>{this.props.street}</td>\n                             </tr>\n */"],"mappings":"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"},"metadata":{},"sourceType":"module"}