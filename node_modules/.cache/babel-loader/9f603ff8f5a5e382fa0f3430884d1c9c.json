{"ast":null,"code":"import _slicedToArray from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{connect}from'react-redux';import{createSelector}from'reselect';import*as selectors from'../../../Reducers/selectors';import SubwayIcon from'../../../images/subway.png';import nySubwayMap from'../../../images/subway_map.jpg';import Table from'react-bootstrap/Table';import ReactImageMagnify from'react-image-magnify';import Button from'react-bootstrap/Button';import{updateTransportation}from'../../../Actions/transportation-actions';import MediaQuery from'react-responsive';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TransportationPanel=/*#__PURE__*/function(_React$Component){_inherits(TransportationPanel,_React$Component);var _super=_createSuper(TransportationPanel);function TransportationPanel(props){var _this;_classCallCheck(this,TransportationPanel);_this=_super.call(this,props);_this.handleSubwayClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var showSubways;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:showSubways=-1;if(_this.props.transportation.showSubways!=undefined){showSubways=_this.props.transportation.showSubways*-1;}_context.next=4;return _this.props.onUpdateTransportation(_objectSpread(_objectSpread({},_this.props.transportation),{},{showSubways:showSubways}));case 4:case\"end\":return _context.stop();}}},_callee);}));_this.state={showSubways:false,isNYC:true};return _this;}_createClass(TransportationPanel,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.transportation.subways!=this.props.transportation.subways){if(this.props.transportation.subways==undefined){this.setState({showSubways:false});}else if(this.props.transportation.subways.size<=0){this.setState({showSubways:false});}else{this.setState({showSubways:true});}}}},{key:\"render\",value:function render(){var header=/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-block'},children:/*#__PURE__*/_jsx(\"img\",{src:SubwayIcon,width:50,height:50})})}),/*#__PURE__*/_jsx(\"th\",{children:\"Subway\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lines\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Yearly Foot Traffic-In\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Yearly Foot Traffic-Out\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:\"0\",children:/*#__PURE__*/_jsx(Button,{onClick:this.handleSubwayClick,children:\"Get\"})})]})});var subwaysMap=/*#__PURE__*/_jsx(ReactImageMagnify,{largeImage:{src:nySubwayMap,width:2000,height:2500},smallImage:{src:nySubwayMap,width:320,height:500},//2700 × 3314\nenlargedImageContainerStyle:{zIndex:1000,width:2000,height:2500},enlargedImagePosition:\"over\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"transportationPage\",size:\"sm\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Transportation\"}),/*#__PURE__*/_jsx(MediaQuery,{minDeviceWidth:880,children:/*#__PURE__*/_jsxs(\"div\",{className:\"transportationContainer\",children:[subwaysMap,/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,variant:\"dark\",id:\"subwaysTable\",style:{display:'block'},children:[header,/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(SubwaysRows,{transportation:this.props.transportation})}),(this.props.transportation.subways==undefined||this.props.transportation.subways.length==0)&&/*#__PURE__*/_jsx(\"tr\",{})]})]})}),/*#__PURE__*/_jsx(MediaQuery,{maxDeviceWidth:880,children:/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,hover:true,variant:\"dark\",id:\"subwaysTable\",children:[header,/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(SubwaysRows,{transportation:this.props.transportation})}),(this.props.transportation.subways==undefined||this.props.transportation.subways.length==0)&&/*#__PURE__*/_jsx(\"tr\",{})]})})]});}}]);return TransportationPanel;}(React.Component);var SubwaysRows=function SubwaysRows(props){if(props.transportation.subways==undefined||props.transportation.subways.length==0)return/*#__PURE__*/_jsx(_Fragment,{});return Array.from(props.transportation.subways.entries()).map(function(_ref2,i){var _ref3=_slicedToArray(_ref2,2),name=_ref3[0],data=_ref3[1];if(i>3)return;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:data.G_LINES}),/*#__PURE__*/_jsx(\"td\",{children:formatCommas(data.G_TOTAL_ENT)}),/*#__PURE__*/_jsx(\"td\",{children:formatCommas(data.G_TOTAL_EXITS)}),/*#__PURE__*/_jsx(\"td\",{})]},i);});/**\n     *   <td>{e.directions.distance.text}</td>\n                    <td>{e.directions.duration.text}</td>\n     */};var mapStateToProps=createSelector(selectors.transportationSelector,function(transportation){return{transportation:transportation};});var mapActionsToProps={onUpdateTransportation:updateTransportation};var formatCommas=function formatCommas(value){return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");};export default connect(mapStateToProps,mapActionsToProps)(TransportationPanel);","map":{"version":3,"names":["React","connect","createSelector","selectors","SubwayIcon","nySubwayMap","Table","ReactImageMagnify","Button","updateTransportation","MediaQuery","TransportationPanel","props","handleSubwayClick","showSubways","transportation","undefined","onUpdateTransportation","state","isNYC","prevProps","subways","setState","size","header","display","subwaysMap","largeImage","src","width","height","smallImage","zIndex","length","Component","SubwaysRows","Array","from","entries","map","i","name","data","G_LINES","formatCommas","G_TOTAL_ENT","G_TOTAL_EXITS","mapStateToProps","transportationSelector","mapActionsToProps","value","toString","replace"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Components/Map/Panels/TransportationPanel.js"],"sourcesContent":["import React  from 'react'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport * as selectors from '../../../Reducers/selectors'\nimport SubwayIcon from '../../../images/subway.png'\nimport nySubwayMap from '../../../images/subway_map.jpg'\nimport Table from 'react-bootstrap/Table'\nimport ReactImageMagnify from 'react-image-magnify';\nimport Button from 'react-bootstrap/Button'\nimport { updateTransportation } from '../../../Actions/transportation-actions';\nimport MediaQuery from 'react-responsive'\n\nclass TransportationPanel extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            showSubways : false,\n            isNYC : true \n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.transportation.subways != this.props.transportation.subways) {\n            if (this.props.transportation.subways == undefined) {\n                this.setState({ showSubways : false})\n            } else if (this.props.transportation.subways.size <= 0) {\n                this.setState({ showSubways : false})\n            } else {\n                this.setState({ showSubways : true})\n            }\n        }\n    }\n\n    handleSubwayClick = async () => {\n        let showSubways = -1\n        if (this.props.transportation.showSubways != undefined) {\n            showSubways = this.props.transportation.showSubways*-1\n        }\n        await this.props.onUpdateTransportation({...this.props.transportation,  showSubways : showSubways})\n        // window.scrollTo({\n        //     top: 0,\n        //     behavior: 'smooth',\n        // })\n    }\n\n\n\n    render() {\n        let header = <thead>\n            <tr>\n                <th>\n                    <div style={{display: 'inline-block'}}>\n                        <img src={SubwayIcon} width={50} height={50}/>\n                    </div>\n                </th>\n                <th>Subway</th>\n                <th>Lines</th>\n                <th>Yearly Foot Traffic-In</th>\n                <th>Yearly Foot Traffic-Out</th>\n                <th colSpan='0'><Button onClick={this.handleSubwayClick}>Get</Button></th>\n            </tr>\n        </thead>\n\n    const subwaysMap =\n        <ReactImageMagnify {...{\n            largeImage: {\n                src: nySubwayMap,\n                width: 2000,\n                height: 2500\n            }, \n            smallImage: {\n                src: nySubwayMap,\n                width: 320,\n                height: 500\n            },\n            \n            }} //2700 × 3314\n            enlargedImageContainerStyle={{ zIndex: 1000, width: 2000, height: 2500}}\n            enlargedImagePosition='over'\n        />\n\n        return (\n            <div className=\"transportationPage\" size=\"sm\">\n                <h1>Transportation</h1>\n                <MediaQuery minDeviceWidth={880}>\n                    <div className=\"transportationContainer\">\n                        {subwaysMap}\n                        <Table striped hover variant=\"dark\" id=\"subwaysTable\" style={{ display: 'block'}}>\n                            {header}\n                            <tbody>\n                                <SubwaysRows transportation={this.props.transportation}/>\n                            </tbody>\n                            {(this.props.transportation.subways == undefined || this.props.transportation.subways.length == 0) && \n                                <tr></tr>\n                            }\n                        </Table>  \n                    </div>\n                </MediaQuery>\n\n                <MediaQuery maxDeviceWidth={880}>\n                        <Table responsive striped hover variant=\"dark\" id=\"subwaysTable\">\n                            {header}\n                            <tbody>\n                                <SubwaysRows transportation={this.props.transportation}/>\n                            </tbody>\n                            {(this.props.transportation.subways == undefined || this.props.transportation.subways.length == 0) && \n                                <tr></tr>\n                            }\n                        </Table>  \n                </MediaQuery>\n            </div>    \n       )\n    }\n }\n const SubwaysRows = (props) => {\n\n    if (props.transportation.subways == undefined || props.transportation.subways.length == 0)\n        return<></>;\n    return (\n       Array.from(props.transportation.subways.entries()).map(([name, data],i) => {\n           if (i > 3) return;\n            return (\n                <tr key={(i)}>\n                    <td>{(i+1)}</td>\n                    <td>{name}</td>\n                    <td>{data.G_LINES}</td>\n                    <td>{formatCommas(data.G_TOTAL_ENT)}</td>\n                    <td>{formatCommas(data.G_TOTAL_EXITS)}</td>\n                    <td></td>\n                  \n                </tr>\n            )\n        }) \n    )\n    /**\n     *   <td>{e.directions.distance.text}</td>\n                    <td>{e.directions.duration.text}</td>\n     */\n}\n \n const mapStateToProps = createSelector(\n     selectors.transportationSelector,\n    (transportation) => ({\n        transportation, \n    })\n )\n\n const mapActionsToProps = {\n    onUpdateTransportation: updateTransportation\n  };\n\n const formatCommas = (value) => {\n    return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") \n}\n\n export default connect(mapStateToProps, mapActionsToProps)(TransportationPanel)\n "],"mappings":"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"},"metadata":{},"sourceType":"module"}