{"ast":null,"code":"import _classCallCheck from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sumanthvarma/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ImageUploader from'../../../react-images-upload';import{jsx as _jsx}from\"react/jsx-runtime\";var PhotoUploader=/*#__PURE__*/function(_React$Component){_inherits(PhotoUploader,_React$Component);var _super=_createSuper(PhotoUploader);function PhotoUploader(props){var _this;_classCallCheck(this,PhotoUploader);_this=_super.call(this,props);_this.state={updateKey:false};_this.onDrop=_this.onDrop.bind(_assertThisInitialized(_this));return _this;}_createClass(PhotoUploader,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(!this.state.updateKey&&prevProps.photos!==this.props.photos){this.setState({existingFiles:this.props.photos,existingImages:this.props.photos.map(function(e){return URL.createObjectURL(e);})});this.setState({updateKey:true});}}},{key:\"onDrop\",value:function onDrop(pictures){this.props.setPhotos(pictures);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"fileUploadContainer\",children:/*#__PURE__*/_jsx(ImageUploader,{defaultFiles:this.state.existingFiles,defaultImages:this.state.existingImages,singleImage:this.props.singleImage,withPreview:true,withIcon:true,buttonText:\"Choose images\",onChange:this.onDrop,imgExtension:['.jpg','.jpeg','.gif','.png'],maxFileSize:26214400})});}}]);return PhotoUploader;}(React.Component);export{PhotoUploader as default};","map":{"version":3,"names":["React","ImageUploader","PhotoUploader","props","state","updateKey","onDrop","bind","prevProps","photos","setState","existingFiles","existingImages","map","e","URL","createObjectURL","pictures","setPhotos","singleImage","Component"],"sources":["/Users/sumanthvarma/Desktop/frontend/src/Components/Listings/AddListing/PhotoUploader.js"],"sourcesContent":["import React from 'react';\nimport ImageUploader from '../../../react-images-upload';\n \nexport default class PhotoUploader extends React.Component {\n \n    constructor(props) {\n        super(props);\n         this.state = { updateKey: false };\n         this.onDrop = this.onDrop.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!this.state.updateKey && prevProps.photos !== this.props.photos) {\n            this.setState({existingFiles: this.props.photos, existingImages : this.props.photos.map(e => URL.createObjectURL(e))})\n            this.setState({ updateKey : true })\n        }\n    }\n \n    onDrop(pictures) {\n        this.props.setPhotos(pictures)\n    }\n \n    render() {\n        return (\n            <div className=\"fileUploadContainer\">\n                <ImageUploader\n                    defaultFiles={this.state.existingFiles}\n                    defaultImages={this.state.existingImages}\n                    singleImage={this.props.singleImage}\n                    withPreview={true}\n                    withIcon={true}\n                    buttonText='Choose images'\n                    onChange={this.onDrop}\n                    imgExtension={['.jpg', '.jpeg', '.gif', '.png']}\n                    maxFileSize={26214400}\n                />\n            </div>\n        );\n    }\n}"],"mappings":"kmBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,cAAP,KAA0B,8BAA1B,C,8CAEqBC,c,0HAEjB,uBAAYC,KAAZ,CAAmB,+CACf,uBAAMA,KAAN,EACC,MAAKC,KAAL,CAAa,CAAEC,SAAS,CAAE,KAAb,CAAb,CACA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CAHc,aAIlB,C,4DAED,4BAAmBC,SAAnB,CAA8B,CAC1B,GAAI,CAAC,KAAKJ,KAAL,CAAWC,SAAZ,EAAyBG,SAAS,CAACC,MAAV,GAAqB,KAAKN,KAAL,CAAWM,MAA7D,CAAqE,CACjE,KAAKC,QAAL,CAAc,CAACC,aAAa,CAAE,KAAKR,KAAL,CAAWM,MAA3B,CAAmCG,cAAc,CAAG,KAAKT,KAAL,CAAWM,MAAX,CAAkBI,GAAlB,CAAsB,SAAAC,CAAC,QAAIC,IAAG,CAACC,eAAJ,CAAoBF,CAApB,CAAJ,EAAvB,CAApD,CAAd,EACA,KAAKJ,QAAL,CAAc,CAAEL,SAAS,CAAG,IAAd,CAAd,EACH,CACJ,C,sBAED,gBAAOY,QAAP,CAAiB,CACb,KAAKd,KAAL,CAAWe,SAAX,CAAqBD,QAArB,EACH,C,sBAED,iBAAS,CACL,mBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,KAAC,aAAD,EACI,YAAY,CAAE,KAAKb,KAAL,CAAWO,aAD7B,CAEI,aAAa,CAAE,KAAKP,KAAL,CAAWQ,cAF9B,CAGI,WAAW,CAAE,KAAKT,KAAL,CAAWgB,WAH5B,CAII,WAAW,CAAE,IAJjB,CAKI,QAAQ,CAAE,IALd,CAMI,UAAU,CAAC,eANf,CAOI,QAAQ,CAAE,KAAKb,MAPnB,CAQI,YAAY,CAAE,CAAC,MAAD,CAAS,OAAT,CAAkB,MAAlB,CAA0B,MAA1B,CARlB,CASI,WAAW,CAAE,QATjB,EADJ,EADJ,CAeH,C,2BAnCsCN,KAAK,CAACoB,S,SAA5BlB,a"},"metadata":{},"sourceType":"module"}